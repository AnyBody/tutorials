
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<meta content="noindex" name="robots" />
<meta property="og:title" content="Lesson 5: Definition of Muscles and External Forces" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://anyscript.org/A_Getting_started_anyscript/lesson5.html" />
<meta property="og:site_name" content="AnyScript Tutorials" />
<meta property="og:description" content="The model so far has been capable of motion despite lacking muscles. This is because a kinematic analysis that does not consider forces. Skeletal muscles produce movement by pulling on our bones. M..." />
<meta property="og:image" content="https://anyscript.org/_images/image16.png" />
<meta property="og:image:alt" content="AnyScript Tutorials" />
<meta name="description" content="The model so far has been capable of motion despite lacking muscles. This is because a kinematic analysis that does not consider forces. Skeletal muscles produce movement by pulling on our bones. M..." />

    <title>Lesson 5: Definition of Muscles and External Forces &#8212; AnyBody Tutorials v7.4.0-dev</title>
  <script>
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=9b1a4fa89bdd0e95b23b" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=9b1a4fa89bdd0e95b23b" rel="stylesheet">

  
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/6.1.2/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=6aa211a80e8e0ad13c9f98b61f85fb78546ea56f" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=9b1a4fa89bdd0e95b23b">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=4f5a1d078b6c00e5ef435388cc61494d2f099c28"></script>
    <script src="../_static/design-tabs.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'A_Getting_started_anyscript/lesson5';</script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Lesson 6: Adding Real Bone Geometries" href="lesson6.html" />
    <link rel="prev" title="Lesson 4: Imparting movement with Drivers" href="lesson4.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">

  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary">
  <label class="overlay overlay-primary" for="__primary"></label>

  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary">
  <label class="overlay overlay-secondary" for="__secondary"></label>

  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
      
<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
  </div>

  


  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        


    <div class="bd-sidebar__content">
        <div class="sidebar-start-items"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/AnyBodyTutorials2.svg" class="logo" alt="logo">
      
      
    </a>
</div>
<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../GettingStarted.html">
   <strong>
    Getting Started
   </strong>
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label class="toctree-toggle" for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../A_Getting_started/index.html">
     Getting Started - First steps
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label class="toctree-toggle" for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_Getting_started/intro.html">
       Getting Started Tutorial
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_Getting_started/lesson1.html">
       Lesson 1: Creating a Standing Model
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_Getting_started/lesson2.html">
       Lesson 2: Controlling the Posture
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_Getting_started/lesson3.html">
       Lesson 3: Reviewing Analysis Results
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 current active has-children">
    <a class="reference internal" href="index.html">
     How to write AnyScript
    </a>
    <input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
    <label class="toctree-toggle" for="toctree-checkbox-3">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="current">
     <li class="toctree-l3">
      <a class="reference internal" href="intro.html">
       Introduction
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="lesson1.html">
       Lesson 1: Basic Concepts
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="lesson2.html">
       Lesson 2: Defining Segments and Displaying Objects
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="lesson3.html">
       Lesson 3: Connecting Segments by Joints
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="lesson4.html">
       Lesson 4: Imparting movement with Drivers
      </a>
     </li>
     <li class="toctree-l3 current active">
      <a class="current reference internal" href="#">
       Lesson 5: Definition of Muscles and External Forces
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="lesson6.html">
       Lesson 6: Adding Real Bone Geometries
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../A_Getting_started_modeling/index.html">
     Modelling the Human body
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
    <label class="toctree-toggle" for="toctree-checkbox-4">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_Getting_started_modeling/intro.html">
       Introduction
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_Getting_started_modeling/lesson1.html">
       Lesson 1: Starting with a New Model
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_Getting_started_modeling/lesson2.html">
       Lesson 2: Adjusting the Human Model
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_Getting_started_modeling/lesson3.html">
       Lesson 3: Making Ends Meet
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_Getting_started_modeling/lesson4.html">
       Lesson 4: Kinetics - Computing Forces
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../A_Getting_started_AMMR/index.html">
     The AnyBody Model Repository
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
    <label class="toctree-toggle" for="toctree-checkbox-5">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference external" href="https://anyscript.org/ammr-doc/creating_model_from_scratch.html">
       Creating a Human Model from scratch
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference external" href="https://anyscript.org/ammr-doc/Scaling/lesson1.html">
       Scaling: Joint to joint scaling
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference external" href="https://anyscript.org/ammr-doc/Scaling/lesson2.html">
       Scaling: External Body Measurements
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference external" href="https://anyscript.org/ammr-doc/Scaling/lesson3.html">
       Scaling: Segmental scaling factors
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../Tutorials.html">
   <strong>
    Tutorials
   </strong>
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label class="toctree-toggle" for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../A_study_of_studies/index.html">
     A Study of Studies
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
    <label class="toctree-toggle" for="toctree-checkbox-7">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_study_of_studies/intro.html">
       Introduction
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_study_of_studies/lesson1.html">
       Lesson1: Mechanical System Information
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_study_of_studies/lesson2.html">
       Lesson2: Initial Conditions
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_study_of_studies/lesson3.html">
       Lesson 3: Kinematic Analysis
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_study_of_studies/lesson4.html">
       Lesson 4: Inverse Dynamics
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../Making_things_move/index.html">
     Making things move
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
    <label class="toctree-toggle" for="toctree-checkbox-8">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../Making_things_move/intro.html">
       Introduction
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Making_things_move/lesson1.html">
       Lesson1: Simple drivers
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Making_things_move/lesson2.html">
       Lesson 2: Using motion capture data
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Making_things_move/lesson3.html">
       Lesson3: Noise and filters
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Making_things_move/lesson4.html">
       Lesson 4: Parameter identification
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Making_things_move/lesson5.html">
       Lesson 5: Using real data
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Making_things_move/lesson6.html">
       Lesson 6: Troubleshooting C3D files
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../MuscleRecruitment/index.html">
     Inverse Dynamics of Muscle Systems
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
    <label class="toctree-toggle" for="toctree-checkbox-9">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../MuscleRecruitment/Inverse_dynamics.html">
       Introduction
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../MuscleRecruitment/lesson1.html">
       Lesson 1: The Basics of Muscle Recruitment
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../MuscleRecruitment/lesson2.html">
       Lesson 2: Linear Muscle Recruitment
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../MuscleRecruitment/lesson3.html">
       Lesson 3: Quadratic Muscle Recruitment
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../MuscleRecruitment/lesson4.html">
       Lesson 4: Polynomial Muscle Recruitment
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../MuscleRecruitment/lesson5.html">
       Lesson 5: Min/Max Muscle Recruitment
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../MuscleRecruitment/lesson6.html">
       Lesson 6: Composite Recruitment Criteria
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../MuscleRecruitment/lesson_calibration.html">
       Lesson 7: Calibration
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../Muscle_modeling/index.html">
     Muscle Modeling
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
    <label class="toctree-toggle" for="toctree-checkbox-10">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../Muscle_modeling/intro.html">
       Introduction
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Muscle_modeling/lesson1.html">
       Lesson 1: The Basics of Muscle Definition
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Muscle_modeling/lesson2.html">
       Lesson 2: Controlling Muscle Drawing
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Muscle_modeling/lesson3.html">
       Lesson 3: Via-point Muscles
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Muscle_modeling/lesson4.html">
       Lesson 4: Wrapping Muscles
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Muscle_modeling/lesson5.html">
       Lesson 5: Muscle Models
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Muscle_modeling/lesson6.html">
       Lesson 6: General Muscles
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Muscle_modeling/lesson7.html">
       Lesson 7: Ligaments
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../The_mechanical_elements/index.html">
     The Mechanical Elements
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
    <label class="toctree-toggle" for="toctree-checkbox-11">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../The_mechanical_elements/intro.html">
       Introduction
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../The_mechanical_elements/lesson1.html">
       Lesson 1: Segments
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../The_mechanical_elements/lesson2.html">
       Lesson 2: Joints
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../The_mechanical_elements/lesson3.html">
       Lesson 3: Drivers
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../The_mechanical_elements/lesson4.html">
       Lesson 4: Kinematic Measures
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../The_mechanical_elements/lesson5.html">
       Lesson 5: Forces
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../ForceDependentKinematics/index.html">
     Force-Dependent Kinematics
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
    <label class="toctree-toggle" for="toctree-checkbox-12">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../ForceDependentKinematics/fdk.html">
       Introduction
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../ForceDependentKinematics/lesson1.html">
       Lesson 1: The Baseline Model
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../ForceDependentKinematics/lesson2.html">
       Lesson 2: Adding FDK Features
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../ForceDependentKinematics/lesson3.html">
       Lesson 3: Results of FDK
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../ForceDependentKinematics/lesson4.html">
       Lesson 4: Using Surfaces to Define the Knee Joint
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../ForceDependentKinematics/lesson5.html">
       Lesson 5: Using Contact Forces to Replace a Joint in a Human Model
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../ForceDependentKinematics/fdkappendix.html">
       FDK appendix
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../Parameter_studies_and_optimization/index.html">
     Parameter Studies and Optimization
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
    <label class="toctree-toggle" for="toctree-checkbox-13">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../Parameter_studies_and_optimization/intro.html">
       Introduction
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Parameter_studies_and_optimization/lesson1.html">
       Defining a Parameter Study
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Parameter_studies_and_optimization/lesson2.html">
       Optimization Studies
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Parameter_studies_and_optimization/lesson3.html">
       Optimization Studies in Python
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../Finite_element_analysis/index.html">
     Finite Element Analysis Interfacing
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
    <label class="toctree-toggle" for="toctree-checkbox-14">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../Finite_element_analysis/lesson1.html">
       Lesson 1: Export of data for FEA
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Finite_element_analysis/lesson2.html">
       Lesson 2: ANSYS Interface
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Finite_element_analysis/lesson3.html">
       Lesson 3: Abaqus Interface
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../AnyExp4SOLIDWORKS/index.html">
     Making Models using SOLIDWORKS
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
    <label class="toctree-toggle" for="toctree-checkbox-15">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../AnyExp4SOLIDWORKS/lesson1.html">
       Translating a SOLIDWORKS CAD model to AnyBody
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../AnyExp4SOLIDWORKS/lesson2.html">
       Making the translated AnyScript model move
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../AnyExp4SOLIDWORKS/lesson3.html">
       Creating human-machine integrated analysis model
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../Scaling/index.html">
     Scaling and Personalizing your model
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/>
    <label class="toctree-toggle" for="toctree-checkbox-16">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../Scaling/lesson3.html">
       Lesson 1: Scaling based on medical images
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/>
      <label class="toctree-toggle" for="toctree-checkbox-17">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../Scaling/lesson3_appendix.html">
         Lesson 1 appendix
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Scaling/lesson4.html">
       Lesson 2: Including a custom scaling function into your model
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Posture_and_movement/intro.html">
     Posture and Movement Prediction
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../Interface_features/index.html">
     User interface features
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/>
    <label class="toctree-toggle" for="toctree-checkbox-18">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../Interface_features/intro.html">
       Introduction
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Interface_features/lesson1.html">
       Lesson 1: The Editor Window
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Interface_features/lesson2.html">
       Lesson 2: The Model View Window
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Interface_features/lesson3.html">
       Lesson 3: The Chart View
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Interface_features/lesson4.html">
       Lesson 4: The Model Tree and Object Description
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Interface_features/lesson5.html">
       Lesson 5: The Command Line Application
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Interface_features/lesson6.html">
       Lesson 6: Modifying the Loaded Model
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Interface_features/lesson7.html">
       Lesson 7: Wrapping the Model with AnyBody Project
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../Advanced_script_features/index.html">
     Advanced Script Features
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/>
    <label class="toctree-toggle" for="toctree-checkbox-19">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../Advanced_script_features/lesson1.html">
       Lesson 1: Using References
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Advanced_script_features/lesson2.html">
       Lesson 2: Using Include Files
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Advanced_script_features/lesson3.html">
       Lesson 3: Mathematical Expressions
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Troubleshooting_anyscript/intro.html">
     Trouble Shooting AnyScript Models
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../Validation_of_models/index.html">
     Validation of Models
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/>
    <label class="toctree-toggle" for="toctree-checkbox-20">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../Validation_of_models/intro.html">
       Introduction to validation
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Validation_of_models/Kinematic_input.html">
       Validating Kinematic input
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../about.html">
   <strong>
    About
   </strong>
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/>
  <label class="toctree-toggle" for="toctree-checkbox-21">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../contributing.html">
     Help improve tutorials
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../legal.html">
     Legal, Trademarks and Copyrights
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav>
        </div>
        <div class="sidebar-end-items">
             <!-- To handle the deprecated key -->
            
                <div class="navbar_extra_footer">
                Tutorials by <a href="https://anybodytech.com">AnyBody Technology</a>
                </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>


      </div>
      <main class="bd-main">
        
        
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>

        <div class="bd-content">
          <div class="bd-article-container">
            
            <div class="bd-header-article">
                



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__primary"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/anybody/anybody-tutorial/issues/new?title=Issue%20on%20page%20%2FA_Getting_started_anyscript/lesson5.html&body=Your%20issue%20content%20here." target="_blank"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/anybody/anybody-tutorial/edit/master/A_Getting_started_anyscript/lesson5.md" target="_blank"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Edit this page"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="headerbtn__text-container">suggest edit</span>
</a>

      </li>
      
    </ul>
  </div>
</div>
<label for="__secondary"
  class="headerbtn headerbtn-secondary"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>
            </div>
            
            
<!-- Table of contents that is only displayed when printing the page -->
<div id="jb-print-docs-body" class="onlyprint">
    <h1>Lesson 5: Definition of Muscles and External Forces</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#creating-a-muscle-model">
   Creating a muscle model
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#creating-a-muscle">
   Creating a muscle
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#adding-more-muscles">
   Adding more muscles
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-initialconditions-analysis">
   The InitialConditions analysis
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#switching-off-driver-reactions-when-muscles-do-the-job-important">
   Switching off driver reactions when muscles do the job (Important!)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-inversedynamicanalysis-and-plotting-muscle-forces">
   The InverseDynamicAnalysis and plotting muscle forces
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#creating-external-loads">
   Creating external loads
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>

            <article class="bd-article" role="main">
              
  <section class="tex2jax_ignore mathjax_ignore" id="lesson-5-definition-of-muscles-and-external-forces">
<h1>Lesson 5: Definition of Muscles and External Forces<a class="headerlink" href="#lesson-5-definition-of-muscles-and-external-forces" title="Permalink to this heading">#</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Here’s an AnyScript file to start on if you have not completed the
previous lesson: <a class="reference download internal" download="" href="../_downloads/628a7964e66950ecc0165fa528b935e3/demo.lesson5.any"><code class="xref download docutils literal notranslate"><span class="pre">demo.lesson5.any</span></code></a>.</p>
</div>
<p>The model so far has been capable of motion despite lacking muscles.
This is because a kinematic analysis that does not consider forces.</p>
<p>Skeletal muscles produce movement by pulling on our bones. Muscle actions
are coordinated in complicated patterns determined by our central nervous system.</p>
<p><strong>AnyBody helps you predict realistic muscle activation patterns for a given movement and external load.</strong></p>
<section id="creating-a-muscle-model">
<h2>Creating a muscle model<a class="headerlink" href="#creating-a-muscle-model" title="Permalink to this heading">#</a></h2>
<p>The exact behaviour of muscle tissue is a widely researched (and debated) topic.</p>
<p>AnyBody offers several models of varying sophistication, for modelling muscle behaviour. A detailed introduction
to muscle modeling can be found here <a class="reference internal" href="../Muscle_modeling/intro.html"><span class="doc">its own tutorial</span></a>.</p>
<p>Here, we will create a very simple muscle model and use it to model our arm model muscles. We start by creating a folder for the muscles:</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="gr">AnyFolder Muscles = {</span>
<span class="gr"> }; // Muscles folder</span>
</pre></div>
</div>
<p>The next step is to create a muscle model that defines the properties that will be assumed common for all the muscles.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Since properties such as Max muscle strength, fiber length etc. differ between muscles, realistic AMMR human body models
define unique muscle models for each muscle element.</p>
</div>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="kt">AnyFolder</span> <span class="n">Muscles</span> <span class="o">=</span> <span class="p">{</span>
  <span class="gr">// Simple muscle model with constant strength = 400 Newton</span>
<span class="gr">  AnyMuscleModel MusMdl = {</span>
<span class="gr">    F0 = 400;</span>
<span class="gr">  };</span>
<span class="p">};</span> <span class="c1">// Muscles folder</span>
</pre></div>
</div>
</section>
<section id="creating-a-muscle">
<h2>Creating a muscle<a class="headerlink" href="#creating-a-muscle" title="Permalink to this heading">#</a></h2>
<p>Since muscles can only pull, we need to define at least one
muscle on each side of every revolute joint.</p>
<p>When working with models containing three-dimensional spherical joints, you may need more muscles.
It can be quite difficult to figure out the minimum number of muscles required
to drive a complex body model.</p>
<p>Let’s add just one muscle to start with, the elbow-flexor muscle named Brachialis:</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span> <span class="kt">AnyFolder</span> <span class="n">Muscles</span> <span class="o">=</span> <span class="p">{</span>
   <span class="c1">// Simple muscle model with constant strength = 300 Newton</span>
   <span class="kt">AnyMuscleModel</span> <span class="n">MusMdl</span> <span class="o">=</span> <span class="p">{</span>
     <span class="n">F0</span> <span class="o">=</span> <span class="mi">400</span><span class="p">;</span>
   <span class="p">};</span>

   <span class="gr">//---------------------------------</span>
<span class="gr">   AnyMuscleViaPoint Brachialis = {</span>
<span class="gr">     AnyMuscleModel &amp;MusMdl = ..Muscles.MusMdl;</span>
<span class="gr">     AnyRefNode &amp;Org = ..Segs.UpperArm.Brachialis;</span>
<span class="gr">     AnyRefNode &amp;Ins = ..Segs.ForeArm.Brachialis;</span>
<span class="gr">     AnyDrawMuscle DrwMus = {};</span>
<span class="gr">  };</span>
<span class="p">};</span> <span class="c1">// Muscles folder</span>
</pre></div>
</div>
<p><strong>This muscle is created by the</strong> <code class="docutils literal notranslate"><span class="pre">AnyMuscleViaPoint</span></code> <strong>class. These are muscles which begin at
an origin point, pass through a number of pre-defined via points, and finally terminate
at the insertion.</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">Org</span></code> <strong>and</strong> <code class="docutils literal notranslate"><span class="pre">Ins</span></code> <strong>are the origin and insertion of the Brachialis. They are reference objects,
pointing to reference nodes named “Brachialis” that have already been created on the “UpperArm” and “ForeArm”</strong></p>
<p>The Brachialis muscle in our model lacks via-points. However if a muscle has via points, we must insert
reference objects to respective via-point nodes in the lines between <code class="docutils literal notranslate"><span class="pre">Org</span></code> and <code class="docutils literal notranslate"><span class="pre">Ins</span></code>, in the correct order.</p>
<p>The physiological behavior of the muscle is defined by the first line:</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="kt">AnyMuscleModel</span> <span class="o">&amp;</span><span class="n">MusMdl</span> <span class="o">=</span> <span class="p">..</span><span class="n">Muscles</span><span class="p">.</span><span class="n">MusMdl</span><span class="p">;</span>
</pre></div>
</div>
<p>You can see that it points right back to the muscle model we have already created (<a class="reference internal" href="lesson3.html#relative-folder-path"><span class="std std-ref">Notice the two leading dots</span></a>). Finally, the following line displays the muscle in your model view window:</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="kt">AnyDrawMuscle</span> <span class="n">DrwMus</span> <span class="o">=</span> <span class="p">{};</span>
</pre></div>
</div>
<p>Upon re-loading the model, you should see a thick, red line connecting the muscle’s origin and
insertion points. There are other ways to visualize muscles, and these are described here in a <a class="reference internal" href="../Muscle_modeling/intro.html"><span class="doc">dedicated muscletutorial</span></a>.</p>
<p>The muscle path may appear strange because the mechanism hasn’t been assembled by a kinematic analysis.</p>
</section>
<section id="adding-more-muscles">
<h2>Adding more muscles<a class="headerlink" href="#adding-more-muscles" title="Permalink to this heading">#</a></h2>
<p>All the other muscles are defined in the same way. Your model should resemble the image seen further below:</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="c1">//---------------------------------</span>
<span class="n">AnyMuscleViaPoint</span> <span class="n">Brachialis</span> <span class="o">=</span> <span class="p">{</span>
  <span class="kt">AnyMuscleModel</span> <span class="o">&amp;</span><span class="n">MusMdl</span> <span class="o">=</span> <span class="p">..</span><span class="n">Muscles</span><span class="p">.</span><span class="n">MusMdl</span><span class="p">;</span>
  <span class="kt">AnyRefNode</span> <span class="o">&amp;</span><span class="n">Org</span> <span class="o">=</span> <span class="p">..</span><span class="n">Segs</span><span class="p">.</span><span class="n">UpperArm</span><span class="p">.</span><span class="n">Brachialis</span><span class="p">;</span>
  <span class="kt">AnyRefNode</span> <span class="o">&amp;</span><span class="n">Ins</span> <span class="o">=</span> <span class="p">..</span><span class="n">Segs</span><span class="p">.</span><span class="n">ForeArm</span><span class="p">.</span><span class="n">Brachialis</span><span class="p">;</span>
  <span class="kt">AnyDrawMuscle</span> <span class="n">DrwMus</span> <span class="o">=</span> <span class="p">{};</span>
<span class="p">};</span>

<span class="gr">//---------------------------------</span>
<span class="gr">AnyMuscleViaPoint DeltodeusA = {</span>
<span class="gr">  AnyMuscleModel &amp;MusMdl = ..Muscles.MusMdl;</span>
<span class="gr">  AnyRefNode &amp;Org = ..GlobalRef.DeltodeusA;</span>
<span class="gr">  AnyRefNode &amp;Ins = ..Segs.UpperArm.DeltodeusA;</span>
<span class="gr">  AnyDrawMuscle DrwMus = {};</span>
<span class="gr">};</span>

<span class="gr">//---------------------------------</span>
<span class="gr">AnyMuscleViaPoint DeltodeusB = {</span>
<span class="gr">  AnyMuscleModel &amp;MusMdl = ..Muscles.MusMdl;</span>
<span class="gr">  AnyRefNode &amp;Org = ..GlobalRef.DeltodeusB;</span>
<span class="gr">  AnyRefNode &amp;Ins = ..Segs.UpperArm.DeltodeusB;</span>
<span class="gr">  AnyDrawMuscle DrwMus = {};</span>
<span class="gr">};</span>

<span class="gr">//---------------------------------</span>
<span class="gr">AnyMuscleViaPoint Brachioradialis = {</span>
<span class="gr">  AnyMuscleModel &amp;MusMdl = ..Muscles.MusMdl;</span>
<span class="gr">  AnyRefNode &amp;Org = ..Segs.UpperArm.Brachioradialis;</span>
<span class="gr">  AnyRefNode &amp;Ins = ..Segs.ForeArm.Brachioradialis;</span>
<span class="gr">  AnyDrawMuscle DrwMus = {};</span>
<span class="gr">};</span>

<span class="gr">//---------------------------------</span>
<span class="gr">AnyMuscleViaPoint BicepsShort = {</span>
<span class="gr">  AnyMuscleModel &amp;MusMdl = ..Muscles.MusMdl;</span>
<span class="gr">  AnyRefNode &amp;Org = ..Segs.UpperArm.BicepsShort;</span>
<span class="gr">  AnyRefNode &amp;Ins = ..Segs.ForeArm.Biceps;</span>
<span class="gr">  AnyDrawMuscle DrwMus = {};</span>
<span class="gr">};</span>

<span class="gr">//---------------------------------</span>
<span class="gr">AnyMuscleViaPoint TricepsShort = {</span>
<span class="gr">  AnyMuscleModel &amp;MusMdl = ..Muscles.MusMdl;</span>
<span class="gr">  AnyRefNode &amp;Org = ..Segs.UpperArm.TricepsShort;</span>
<span class="gr">  AnyRefNode &amp;Ins = ..Segs.ForeArm.Triceps;</span>
<span class="gr">  AnyDrawMuscle DrwMus = {};</span>
<span class="gr">};</span>

<span class="gr">//---------------------------------</span>
<span class="gr">AnyMuscleViaPoint BicepsLong = {</span>
<span class="gr">  AnyMuscleModel &amp;MusMdl = ..Muscles.MusMdl;</span>
<span class="gr">  AnyRefNode &amp;Org = ..GlobalRef.BicepsLong;</span>
<span class="gr">  AnyRefNode &amp;Ins = ..Segs.ForeArm.Biceps;</span>
<span class="gr">  AnyDrawMuscle DrwMus = {};</span>
<span class="gr">};</span>

<span class="gr">//---------------------------------</span>
<span class="gr">AnyMuscleViaPoint TricepsLong = {</span>
<span class="gr">  AnyMuscleModel &amp;MusMdl = ..Muscles.MusMdl;</span>
<span class="gr">  AnyRefNode &amp;Org = ..GlobalRef.TricepsLong;</span>
<span class="gr">  AnyRefNode &amp;Ins = ..Segs.ForeArm.Triceps;</span>
<span class="gr">  AnyDrawMuscle DrwMus = {};</span>
<span class="gr">};</span>
</pre></div>
</div>
<img alt="../_images/image16.png" src="../_images/image16.png" />
</section>
<section id="the-initialconditions-analysis">
<h2>The InitialConditions analysis<a class="headerlink" href="#the-initialconditions-analysis" title="Permalink to this heading">#</a></h2>
<p>Your model (in the image above) doesn’t appear to be connected properly at the elbow because AnyBody only enforces the
joint constraints during a simulation.</p>
<p>Use the operation drop down menu to run the “InitialConditions” operation. If you don’t remember
how this is done, refer to <a class="reference internal" href="../A_Getting_started/lesson2.html#running-analysis"><span class="std std-ref">this prior tutorial</span></a>.</p>
<p>The assembled model should resemble the following figure.</p>
<img alt="../_images/image24.png" src="../_images/image24.png" />
</section>
<section id="switching-off-driver-reactions-when-muscles-do-the-job-important">
<span id="driver-reactions"></span><h2>Switching off driver reactions when muscles do the job (Important!)<a class="headerlink" href="#switching-off-driver-reactions-when-muscles-do-the-job-important" title="Permalink to this heading">#</a></h2>
<p>Even though you haven’t added any external forces to your model, the model still
requires some assistive force to hold up its own weight. Note that you’ve specified
a gravity vector in the “ArmModelStudy” object.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A kinematic constraint needs to be enforced by an accompanying constraint force.
For example, when you lean on a table, the normal reaction force on your hand maintains the
surface-surface constraint between hand and table. Were it not for the force you would have fallen, with your hand
passing through the table surface. Similarly motion constraints such as joint angle motions need a driving
force to maintain the specified trajectory.</p>
</div>
<p>By default, all drivers in your model apply the necessary constraint forces (also called driver reactions) for their respective kinematic constraints.</p>
<p><strong>The constraint “force” is actually a generalized force i.e. whether it is actually a force or torque
depends on the type of measure that a driver constrains. For example, a driver on a rotational measure, will apply torques, while one on
a linear measure will apply forces. AnyBody reports all of these simply as “forces”, and it is up to you to interpret them.</strong></p>
<p><strong>The drivers for shoulder and elbow motion thus default to applying the required constraint reaction torques to sustain the joint motions.
This is problematic, since we wish the muscles forces to be causing the motion instead. The default driver reactions must therefore be
switched off by setting the “Reaction.Type” property.</strong></p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="kt">AnyKinEqSimpleDriver</span> <span class="n">ShoulderMotion</span> <span class="o">=</span> <span class="p">{</span>
  <span class="kt">AnyRevoluteJoint</span> <span class="o">&amp;</span><span class="n">Jnt</span> <span class="o">=</span> <span class="p">..</span><span class="n">Jnts</span><span class="p">.</span><span class="n">Shoulder</span><span class="p">;</span>
  <span class="n">DriverPos</span> <span class="o">=</span> <span class="p">{</span><span class="o">-</span><span class="mi">100</span><span class="o">*</span><span class="kp">pi</span><span class="o">/</span><span class="mi">180</span><span class="p">};</span>
  <span class="n">DriverVel</span> <span class="o">=</span> <span class="p">{</span><span class="mi">30</span><span class="o">*</span><span class="kp">pi</span><span class="o">/</span><span class="mi">180</span><span class="p">};</span>
  <span class="gr">Reaction.Type = {Off};</span>
<span class="p">};</span> <span class="c1">// Shoulder driver</span>

<span class="c1">//---------------------------------</span>
<span class="kt">AnyKinEqSimpleDriver</span> <span class="n">ElbowMotion</span> <span class="o">=</span> <span class="p">{</span>
  <span class="kt">AnyRevoluteJoint</span> <span class="o">&amp;</span><span class="n">Jnt</span> <span class="o">=</span> <span class="p">..</span><span class="n">Jnts</span><span class="p">.</span><span class="n">Elbow</span><span class="p">;</span>
  <span class="n">DriverPos</span> <span class="o">=</span> <span class="p">{</span><span class="mi">90</span><span class="o">*</span><span class="kp">pi</span><span class="o">/</span><span class="mi">180</span><span class="p">};</span>
  <span class="n">DriverVel</span> <span class="o">=</span> <span class="p">{</span><span class="mi">45</span><span class="o">*</span><span class="kp">pi</span><span class="o">/</span><span class="mi">180</span><span class="p">};</span>
  <span class="gr">Reaction.Type = {Off};</span>
<span class="p">};</span> <span class="c1">// Elbow driver</span>
</pre></div>
</div>
<p>On the other hand, the driver reactions come in handy in models under development, while you are still adding
muscles or other force elements to enforce the constraints. The driver reactions will allow you to successfully run
inverse dynamic simulations at the intermediate model stages, by ensuring dynamic consistency.</p>
<p>The single <code class="docutils literal notranslate"><span class="pre">Off</span></code> is encapsulated in braces, <code class="docutils literal notranslate"><span class="pre">{Off}</span></code> because it is a vector.
A driver can theoretically have any number of total DOF from all the measures
that it drives. Therefore all data in a driver are vector quantities, even when it is a 1 DOF driver .</p>
</section>
<section id="the-inversedynamicanalysis-and-plotting-muscle-forces">
<h2>The InverseDynamicAnalysis and plotting muscle forces<a class="headerlink" href="#the-inversedynamicanalysis-and-plotting-muscle-forces" title="Permalink to this heading">#</a></h2>
<p>Run the the <strong>InverseDynamicAnalysis</strong> operation from the operations drop-down menu.
In this analysis, the AnyBody system computes all muscle, joint forces and much more.</p>
<p>Review the instructions from <a class="reference internal" href="../A_Getting_started/lesson3.html#chart-view"><span class="std std-ref">this prior tutorial</span></a> on plotting simulation results.</p>
<p>To plot the muscle forces in the brachialis muscle, open
“Main.Study.Output.Model.Muscles.Brachialis” in the chart view’s model tree, and plot the variable named <code class="docutils literal notranslate"><span class="pre">Fm</span></code>.
You should get a curve that looks like the one below.</p>
<img alt="../_images/image33.png" src="../_images/image33.png" />
<p>The drop in muscle force with movement progression is due to the decreasing moment arm of the
gravity vector about the elbow joint, as the elbow flexes. Therefore lesser the muscle force.</p>
<p>If you look at the muscle force in the BicepsLong, you see a different pattern:</p>
<img alt="../_images/image42.png" src="../_images/image42.png" />
<p>This muscle’s force increases during the movement because this muscle supports both, the shoulder and the
elbow. In addition, it collaborates both with DeltoidusA on shoulder
flexion, and with the other elbow flexors, and all these muscles have to
adjust their work in relation to each other.</p>
</section>
<section id="creating-external-loads">
<h2>Creating external loads<a class="headerlink" href="#creating-external-loads" title="Permalink to this heading">#</a></h2>
<p>You may want to investigate the model’s behavior in different loading situations, such as when the hand
is carrying a dumbbell. Let us imagine that the model is performing a dumbbell curl.</p>
<p>We start by creating a node on the forearm at the location of the palm. Add this within the curly braces of the “ForeArm” object:</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="gr">AnyRefNode PalmNode = {</span>
<span class="gr">   sRel = {0.27,0,0};</span>
<span class="gr"> };</span>
</pre></div>
</div>
<p>The next step is to add an external force. We make a new sub-folder for this purpose, within ArmModel:</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="gr">AnyFolder Loads = {</span>

<span class="gr">  //---------------------------------</span>
<span class="gr">  AnyForce3D Dumbbell = {</span>
<span class="gr">    AnyRefNode &amp;PalmNode = ..Segs.ForeArm.PalmNode;</span>
<span class="gr">    F = {0,-100,0}; // Force in Newton</span>
<span class="gr">  };</span>
<span class="gr">};  // Loads folder</span>
</pre></div>
</div>
<p>Now you can reload the model and re-run inverse dynamics to analyze how the model reacts
to a downward force of 100 N (approximately 10 kg dumbbell weight). The BicepsLong force again, you
should see this:</p>
<img alt="../_images/image54.png" src="../_images/image54.png" />
<p>The muscle force is obviously much larger than before, and the
development is also different. It now reaches a maximum during the
movement and drops off again.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Applied forces do not have to be constant. They can change with time
and other properties in the model.  Please refer to the <a class="reference internal" href="../The_mechanical_elements/intro.html"><span class="doc">tutorial onforces</span></a> for more
details.</p>
</div>
<p><strong>The model you’ve built here was anatomically simplified, and it can be a
difficult job to define a realistic body model from scratch. We recommend that users
start out with the body models available in the</strong> <a class="reference external" href="https://www.anybodytech.com/software/ammr/">AnyBody Managed Model
Repository</a>.</p>
<p>Now, let’s continue to <a class="reference internal" href="lesson6.html"><span class="doc">Lesson 6: Adding real bone geometrics</span></a>.</p>
</section>
</section>


            </article>
            

            
            
            <footer class="bd-footer-article">
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="lesson4.html" title="previous page">
      <i class="fas fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">previous</p>
          <p class="prev-next-title">Lesson 4: Imparting movement with Drivers</p>
      </div>
  </a>
  <a class='right-next' id="next-link" href="lesson6.html" title="next page">
  <div class="prev-next-info">
      <p class="prev-next-subtitle">next</p>
      <p class="prev-next-title">Lesson 6: Adding Real Bone Geometries</p>
  </div>
  <i class="fas fa-angle-right"></i>
  </a>
</div>
            </footer>
            
          </div>
          
          

    <!-- Table of contents -->


<div class="bd-sidebar-secondary bd-toc show noprint">
    <div class="toc-item">
        <div class="tocsection onthispage">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav" aria-label="Page">
            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#creating-a-muscle-model">
   Creating a muscle model
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#creating-a-muscle">
   Creating a muscle
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#adding-more-muscles">
   Adding more muscles
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-initialconditions-analysis">
   The InitialConditions analysis
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#switching-off-driver-reactions-when-muscles-do-the-job-important">
   Switching off driver reactions when muscles do the job (Important!)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#the-inversedynamicanalysis-and-plotting-muscle-forces">
   The InverseDynamicAnalysis and plotting muscle forces
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#creating-external-loads">
   Creating external loads
  </a>
 </li>
</ul>

        </nav>
    </div>
</div>



        </div>
        <footer class="bd-footer-content">
          <div class="bd-footer-content__inner">
            <p>
  
    By AnyBody Technology<br/>
  
      &copy; Copyright 2022, AnyBody Technology.<br/>
</p>
          </div>
        </footer>
        

      </main>
    </div>
  </div>

  
    
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=9b1a4fa89bdd0e95b23b"></script>

  </body>
</html>