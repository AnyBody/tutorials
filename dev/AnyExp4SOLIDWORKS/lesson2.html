
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<meta content="noindex" name="robots" />

<meta property="og:title" content="Making the translated AnyScript model move" />
  
<meta property="og:type" content="website" />
  
<meta property="og:url" content="https://anyscript.org/AnyExp4SOLIDWORKS/lesson2.html" />
  
<meta property="og:site_name" content="AnyScript Tutorials" />
  
<meta property="og:description" content="If you did not finish the previous lesson, you can download the finished AnyScript model file here: FitnessMachine\_Mate\_Config1.zip Add an AnyBodyStudy object and a kinematic motion driver: As pr..." />
  
<meta property="og:image" content="https://anyscript.org/_images/lesson2_image1.PNG" />
  
<meta property="og:image:alt" content="SolidWorks components" />
  
    <title>Making the translated AnyScript model move &#8212; AnyBody Tutorials v7.4.0-dev</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=e29d1d5dcac6d41e1d5489fedd7eec00fae8909a" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script src="../_static/design-tabs.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Creating human-machine integrated analysis model" href="lesson3.html" />
    <link rel="prev" title="Translating a SOLIDWORKS CAD model to AnyBody" href="lesson1.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/AnyBodyTutorials2.svg" class="logo" alt="logo">
      
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../GettingStarted.html">
   <strong>
    Getting Started
   </strong>
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../A_Getting_started/index.html">
     Getting Started - First steps
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
    <label for="toctree-checkbox-2">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_Getting_started/intro.html">
       Getting Started Tutorial
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_Getting_started/lesson1.html">
       Lesson 1: Creating a Standing Model
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_Getting_started/lesson2.html">
       Lesson 2: Controlling the Posture
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_Getting_started/lesson3.html">
       Lesson 3: Reviewing Analysis Results
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../A_Getting_started_anyscript/index.html">
     How to write AnyScript
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
    <label for="toctree-checkbox-3">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_Getting_started_anyscript/intro.html">
       Introduction
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_Getting_started_anyscript/lesson1.html">
       Lesson 1: Basic Concepts
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_Getting_started_anyscript/lesson2.html">
       Lesson 2: Defining Segments and Displaying Objects
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_Getting_started_anyscript/lesson3.html">
       Lesson 3: Connecting Segments by Joints
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_Getting_started_anyscript/lesson4.html">
       Lesson 4: Imparting movement with Drivers
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_Getting_started_anyscript/lesson5.html">
       Lesson 5: Definition of Muscles and External Forces
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_Getting_started_anyscript/lesson6.html">
       Lesson 6: Adding Real Bone Geometries
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../A_Getting_started_modeling/index.html">
     Modelling the Human body
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
    <label for="toctree-checkbox-4">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_Getting_started_modeling/intro.html">
       Introduction
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_Getting_started_modeling/lesson1.html">
       Lesson 1: Starting with a New Model
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_Getting_started_modeling/lesson2.html">
       Lesson 2: Adjusting the Human Model
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_Getting_started_modeling/lesson3.html">
       Lesson 3: Making Ends Meet
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_Getting_started_modeling/lesson4.html">
       Lesson 4: Kinetics - Computing Forces
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../A_Getting_started_AMMR/index.html">
     The AnyBody Model Repository
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
    <label for="toctree-checkbox-5">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference external" href="https://anyscript.org/ammr-doc/creating_model_from_scratch.html">
       Creating a Human Model from scratch
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference external" href="https://anyscript.org/ammr-doc/Scaling/lesson1.html">
       Scaling: Joint to joint scaling
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference external" href="https://anyscript.org/ammr-doc/Scaling/lesson2.html">
       Scaling: External Body Measurements
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference external" href="https://anyscript.org/ammr-doc/Scaling/lesson3.html">
       Scaling: Segmental scaling factors
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="../Tutorials.html">
   <strong>
    Tutorials
   </strong>
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
  <label for="toctree-checkbox-6">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../A_study_of_studies/index.html">
     A Study of Studies
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
    <label for="toctree-checkbox-7">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_study_of_studies/intro.html">
       Introduction
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_study_of_studies/lesson1.html">
       Lesson1: Mechanical System Information
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_study_of_studies/lesson2.html">
       Lesson2: Initial Conditions
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_study_of_studies/lesson3.html">
       Lesson 3: Kinematic Analysis
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../A_study_of_studies/lesson4.html">
       Lesson 4: Inverse Dynamics
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../Making_things_move/index.html">
     Making things move
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
    <label for="toctree-checkbox-8">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../Making_things_move/intro.html">
       Introduction
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Making_things_move/lesson1.html">
       Lesson1: Simple drivers
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Making_things_move/lesson2.html">
       Lesson 2: Using motion capture data
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Making_things_move/lesson3.html">
       Lesson3: Noise and filters
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Making_things_move/lesson4.html">
       Lesson 4: Parameter identification
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Making_things_move/lesson5.html">
       Lesson 5: Using real data
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Making_things_move/lesson6.html">
       Lesson 6: Troubleshooting C3D files
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../MuscleRecruitment/index.html">
     Inverse Dynamics of Muscle Systems
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
    <label for="toctree-checkbox-9">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../MuscleRecruitment/Inverse_dynamics.html">
       Introduction
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../MuscleRecruitment/lesson1.html">
       Lesson 1: The Basics of Muscle Recruitment
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../MuscleRecruitment/lesson2.html">
       Lesson 2: Linear Muscle Recruitment
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../MuscleRecruitment/lesson3.html">
       Lesson 3: Quadratic Muscle Recruitment
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../MuscleRecruitment/lesson4.html">
       Lesson 4: Polynomial Muscle Recruitment
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../MuscleRecruitment/lesson5.html">
       Lesson 5: Min/Max Muscle Recruitment
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../MuscleRecruitment/lesson6.html">
       Lesson 6: Composite Recruitment Criteria
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../MuscleRecruitment/lesson_calibration.html">
       Lesson 7: Calibration
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../Muscle_modeling/index.html">
     Muscle Modeling
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
    <label for="toctree-checkbox-10">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../Muscle_modeling/intro.html">
       Introduction
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Muscle_modeling/lesson1.html">
       Lesson 1: The Basics of Muscle Definition
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Muscle_modeling/lesson2.html">
       Lesson 2: Controlling Muscle Drawing
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Muscle_modeling/lesson3.html">
       Lesson 3: Via-point Muscles
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Muscle_modeling/lesson4.html">
       Lesson 4: Wrapping Muscles
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Muscle_modeling/lesson5.html">
       Lesson 5: Muscle Models
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Muscle_modeling/lesson6.html">
       Lesson 6: General Muscles
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Muscle_modeling/lesson7.html">
       Lesson 7: Ligaments
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../The_mechanical_elements/index.html">
     The Mechanical Elements
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
    <label for="toctree-checkbox-11">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../The_mechanical_elements/intro.html">
       Introduction
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../The_mechanical_elements/lesson1.html">
       Lesson 1: Segments
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../The_mechanical_elements/lesson2.html">
       Lesson 2: Joints
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../The_mechanical_elements/lesson3.html">
       Lesson 3: Drivers
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../The_mechanical_elements/lesson4.html">
       Lesson 4: Kinematic Measures
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../The_mechanical_elements/lesson5.html">
       Lesson 5: Forces
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../ForceDependentKinematics/index.html">
     Force-Dependent Kinematics
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
    <label for="toctree-checkbox-12">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../ForceDependentKinematics/fdk.html">
       Introduction
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../ForceDependentKinematics/lesson1.html">
       Lesson 1: The Baseline Model
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../ForceDependentKinematics/lesson2.html">
       Lesson 2: Adding FDK Features
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../ForceDependentKinematics/lesson3.html">
       Lesson 3: Results of FDK
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../ForceDependentKinematics/lesson4.html">
       Lesson 4: Using Surfaces to Define the Knee Joint
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../ForceDependentKinematics/lesson5.html">
       Lesson 5: Using Contact Forces to Replace a Joint in a Human Model
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../ForceDependentKinematics/fdkappendix.html">
       FDK appendix
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../Parameter_studies_and_optimization/index.html">
     Parameter Studies and Optimization
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
    <label for="toctree-checkbox-13">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../Parameter_studies_and_optimization/intro.html">
       Introduction
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Parameter_studies_and_optimization/lesson1.html">
       Defining a Parameter Study
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Parameter_studies_and_optimization/lesson2.html">
       Optimization Studies
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Parameter_studies_and_optimization/lesson3.html">
       Optimization Studies in Python
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../Finite_element_analysis/index.html">
     Finite Element Analysis Interfacing
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
    <label for="toctree-checkbox-14">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../Finite_element_analysis/lesson1.html">
       Lesson 1: Export of data for FEA
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Finite_element_analysis/lesson2.html">
       Lesson 2: ANSYS Interface
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Finite_element_analysis/lesson3.html">
       Lesson 3: Abaqus Interface
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 current active has-children">
    <a class="reference internal" href="index.html">
     Making Models using SOLIDWORKS
    </a>
    <input checked="" class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
    <label for="toctree-checkbox-15">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul class="current">
     <li class="toctree-l3">
      <a class="reference internal" href="lesson1.html">
       Translating a SOLIDWORKS CAD model to AnyBody
      </a>
     </li>
     <li class="toctree-l3 current active">
      <a class="current reference internal" href="#">
       Making the translated AnyScript model move
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="lesson3.html">
       Creating human-machine integrated analysis model
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../Scaling/index.html">
     Scaling and Personalizing your model
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/>
    <label for="toctree-checkbox-16">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3 has-children">
      <a class="reference internal" href="../Scaling/lesson3.html">
       Lesson 1: Scaling based on medical images
      </a>
      <input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/>
      <label for="toctree-checkbox-17">
       <i class="fas fa-chevron-down">
       </i>
      </label>
      <ul>
       <li class="toctree-l4">
        <a class="reference internal" href="../Scaling/lesson3_appendix.html">
         Lesson 1 appendix
        </a>
       </li>
      </ul>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Scaling/lesson4.html">
       Lesson 2: Including a custom scaling function into your model
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Posture_and_movement/intro.html">
     Posture and Movement Prediction
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../Interface_features/index.html">
     User interface features
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/>
    <label for="toctree-checkbox-18">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../Interface_features/intro.html">
       Introduction
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Interface_features/lesson1.html">
       Lesson 1: The Editor Window
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Interface_features/lesson2.html">
       Lesson 2: The Model View Window
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Interface_features/lesson3.html">
       Lesson 3: The Chart View
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Interface_features/lesson4.html">
       Lesson 4: The Model Tree and Object Description
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Interface_features/lesson5.html">
       Lesson 5: The Command Line Application
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Interface_features/lesson6.html">
       Lesson 6: Modifying the Loaded Model
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Interface_features/lesson7.html">
       Lesson 7: Wrapping the Model with AnyBody Project
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../Advanced_script_features/index.html">
     Advanced Script Features
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/>
    <label for="toctree-checkbox-19">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../Advanced_script_features/lesson1.html">
       Lesson 1: Using References
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Advanced_script_features/lesson2.html">
       Lesson 2: Using Include Files
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Advanced_script_features/lesson3.html">
       Lesson 3: Mathematical Expressions
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../Troubleshooting_anyscript/intro.html">
     Trouble Shooting AnyScript Models
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../Validation_of_models/index.html">
     Validation of Models
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/>
    <label for="toctree-checkbox-20">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../Validation_of_models/intro.html">
       Introduction to validation
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../Validation_of_models/Kinematic_input.html">
       Validating Kinematic input
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../about.html">
   <strong>
    About
   </strong>
  </a>
  <input checked class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/>
  <label for="toctree-checkbox-21">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../contributing.html">
     Help improve tutorials
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../legal.html">
     Legal, Trademarks and Copyrights
    </a>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Tutorials by <a href="https://anybodytech.com">AnyBody Technology</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-repository-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Source repositories">
      <i class="fab fa-github"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://github.com/anybody/anybody-tutorial/issues/new?title=Issue%20on%20page%20%2FAnyExp4SOLIDWORKS/lesson2.html&body=Your%20issue%20content%20here."
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Open an issue"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="headerbtn__text-container">open issue</span>
</a>

      </li>
      
      <li>
        <a href="https://github.com/anybody/anybody-tutorial/edit/master/AnyExp4SOLIDWORKS/lesson2.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Edit this page"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="headerbtn__text-container">suggest edit</span>
</a>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#add-an-anybodystudy-object-and-a-kinematic-motion-driver">
   Add an AnyBodyStudy object and a kinematic motion driver
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#removing-redundant-mates-in-solidworks-before-doing-the-translation">
   Removing redundant mates in SOLIDWORKS before doing the translation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#translate-a-solidworks-assembly-which-doesnt-have-any-redundant-mates">
   Translate a SOLIDWORKS assembly which doesn’t have any redundant mates
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Making the translated AnyScript model move</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#add-an-anybodystudy-object-and-a-kinematic-motion-driver">
   Add an AnyBodyStudy object and a kinematic motion driver
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#removing-redundant-mates-in-solidworks-before-doing-the-translation">
   Removing redundant mates in SOLIDWORKS before doing the translation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#translate-a-solidworks-assembly-which-doesnt-have-any-redundant-mates">
   Translate a SOLIDWORKS assembly which doesn’t have any redundant mates
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="making-the-translated-anyscript-model-move">
<h1>Making the translated AnyScript model move<a class="headerlink" href="#making-the-translated-anyscript-model-move" title="Permalink to this headline">#</a></h1>
<p>If you did not finish the previous lesson, you can download the finished
AnyScript model file here:
<a class="reference download internal" download="" href="../_downloads/6f1ce74563d63cb5734cb59acc275bb2/FitnessMachine_Mate_Config1.zip"><code class="xref download docutils literal notranslate"><span class="pre">FitnessMachine\_Mate\_Config1.zip</span></code></a></p>
<section id="add-an-anybodystudy-object-and-a-kinematic-motion-driver">
<h2>Add an AnyBodyStudy object and a kinematic motion driver<a class="headerlink" href="#add-an-anybodystudy-object-and-a-kinematic-motion-driver" title="Permalink to this headline">#</a></h2>
<p>As previously mentioned, the exported model comes out of SOLIDWORKS and
into AnyBody with one degree-of-freedom. In this lesson, we add a driver
to this degree-of-freedom and thereby make the exercise machine move
inside AnyBody.</p>
<p>We will make these additions to the model in the Main file, but since
‘FitnessMachine.main.any’ was generated by the AnyBody Exporter™ for
SOLIDWORKS® (AnyExp4SOLIDWORKS™) and will be overwritten next time we
update the translation, we shall make our own copy before editing. We
call this new Main file ‘My.FitnessMachine.main.any’.</p>
<p>The first step is to add a study object to the Main file. The study
contains the necessary operations that will perform a kinematic
analysis, which is the way how AnyBody moves the model. Let us add an
AnyBodyStudy object to make this model work for kinematic and inverse
dynamic analyses.</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="n">Main</span> <span class="o">=</span>
<span class="p">{</span>
  <span class="cp">#include</span> <span class="s">&quot;FitnessMachine.any&quot;</span>

  <span class="gr">AnyBodyStudy Study =</span>
<span class="gr">  {</span>
<span class="gr">    AnyFolder&amp; Model = .FitnessMachine;</span>
<span class="gr">    tStart = 0;</span>
<span class="gr">    tEnd = 1;</span>
<span class="gr">    nStep = 101;</span>
<span class="gr">    Gravity = {0, -9.81, 0};</span>
<span class="gr">  };  </span>
<span class="p">};</span>
</pre></div>
</div>
<p>Notice how the ‘FitnessMachine’ folder is added by a reference so that
the study object “knows the model” that it must study.</p>
<p>The next step is to add a motion driver to determine the position of the
single degree-of-freedom at every time step and thereby the entire
mechanism. The logical and simple choice is to drive the angle of the
flywheel. As we saw before, the imported model in AnyBody is almost
completely equivalent in structure to the SOLIDWORKS model, so we can
use the latter to look for a place to attach the driver.</p>
<p><img alt="SolidWorks components" src="../_images/lesson2_image1.PNG" /></p>
<p>The ‘Concentric01’ mate is a relationship between two cylindrical faces
of the ‘MainBase&lt;1&gt;’ and ‘MainCylinder&lt;1&gt;’ components. This mate
contains two linear and two rotational constraints between two different
components. So this mate can still allow two degrees of freedom: 1
translational and 1 rotational movement. Let us look the definition of
this ‘Concentric01’ mate inside AnyScript.</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="kt">AnyKinEqSimpleDriver</span> <span class="n">Concentric01</span> <span class="o">=</span>
<span class="p">{</span>
  <span class="kt">AnyKinLinear</span> <span class="n">lin</span> <span class="o">=</span>
  <span class="p">{</span>
    <span class="kt">AnyRefFrame</span><span class="o">&amp;</span> <span class="n">base</span> <span class="o">=</span> <span class="p">...</span><span class="n">MainBase___1</span><span class="p">.</span><span class="n">FitnessMachine_Concentric01</span><span class="p">;</span>
    <span class="kt">AnyRefFrame</span><span class="o">&amp;</span> <span class="n">target</span> <span class="o">=</span> <span class="p">...</span><span class="n">MainCylinder___1</span><span class="p">.</span><span class="n">FitnessMachine_Concentric01</span><span class="p">;</span>
    <span class="n">Ref</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="p">};</span>
  <span class="kt">AnyKinRotational</span> <span class="n">rot</span> <span class="o">=</span>
  <span class="p">{</span>
    <span class="kt">AnyRefFrame</span><span class="o">&amp;</span> <span class="n">base</span> <span class="o">=</span> <span class="p">...</span><span class="n">MainBase___1</span><span class="p">.</span><span class="n">FitnessMachine_Concentric01</span><span class="p">;</span>
    <span class="kt">AnyRefFrame</span><span class="o">&amp;</span> <span class="n">target</span> <span class="o">=</span> <span class="p">...</span><span class="n">MainCylinder___1</span><span class="p">.</span><span class="n">FitnessMachine_Concentric01</span><span class="p">;</span>
    <span class="n">Type</span> <span class="o">=</span> <span class="kp">PlanarAngles</span><span class="p">;</span>
    <span class="n">Axis1</span> <span class="o">=</span> <span class="kp">z</span><span class="p">;</span>
    <span class="n">Axis2</span> <span class="o">=</span> <span class="kp">y</span><span class="p">;</span>
    <span class="n">Axis3</span> <span class="o">=</span> <span class="kp">x</span><span class="p">;</span>
  <span class="p">};</span>
  <span class="n">MeasureOrganizer</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">};</span>
  <span class="n">DriverPos</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">};</span>
  <span class="n">DriverVel</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">};</span>
  <span class="n">CType</span> <span class="o">=</span> <span class="p">{..</span><span class="n">_ANY_CTYPE_</span><span class="p">,</span> <span class="p">..</span><span class="n">_ANY_CTYPE_</span><span class="p">,</span> <span class="p">..</span><span class="n">_ANY_CTYPE_</span><span class="p">,</span> <span class="p">..</span><span class="n">_ANY_CTYPE_</span><span class="p">};</span>
<span class="p">};</span>
</pre></div>
</div>
<p>We can see that there is one AnyKinLinear and one AnyKinRotational
kinematic measure for this mate. The rotation is obviously related to
the AnyKinRotational object so let us use this to define a kinematic
driver. We can do this because the rotational measure ‘rot’ is already
measuring the angle; the ‘PlanarAngles’ type gives us one real angle and
two special out-of-plane measurements, which are already constrained to
be zero, i.e. in-plane, by the translated code. The remaining real
angle, i.e. the first component of the ‘rot’ measure, can be constrained
by a driver. We add this to the FitnessMachine AnyFolder from the Main
file.</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="n">Main</span> <span class="o">=</span>
<span class="p">{</span>
  <span class="cp">#include</span> <span class="s">&quot;FitnessMachine.any&quot;</span>

  <span class="gr">FitnessMachine =</span>
<span class="gr">  {</span>
<span class="gr">    AnyFolder Drivers =</span>
<span class="gr">    {</span>
<span class="gr">      AnyKinEqSimpleDriver rot_drv =</span>
<span class="gr">      {</span>
<span class="gr">        AnyKinRotational&amp; rot = ..Mates.Concentric01.rot;</span>
<span class="gr">        MeasureOrganizer = {0};</span>
<span class="gr">        DriverPos = pi/180*{0};</span>
<span class="gr">        DriverVel = pi/180*{180};</span>
<span class="gr">      };</span>
<span class="gr">    };</span>
<span class="gr">  };</span>

  <span class="kt">AnyBodyStudy</span> <span class="n">Study</span> <span class="o">=</span>
  <span class="p">{</span>
    <span class="kt">AnyFolder</span><span class="o">&amp;</span> <span class="n">Model</span> <span class="o">=</span> <span class="p">.</span><span class="n">FitnessMachine</span><span class="p">;</span>
    <span class="n">tStart</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="n">tEnd</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="n">nStep</span> <span class="o">=</span> <span class="mi">101</span><span class="p">;</span>
    <span class="n">Gravity</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">9.81</span><span class="p">,</span> <span class="mi">0</span><span class="p">};</span>
  <span class="p">};</span>
<span class="p">};</span>
</pre></div>
</div>
<p>If you load this modified model, you will see the following warnings.</p>
<p>“Model Warning: Study ‘Main.Study’ contains more reaction forces than
rigid-body degrees of freedom of the segments. The model may be
statically indeterminate. There are 122 reactions and only 96 rigid body
degrees of freedom.”</p>
<p>Also, if you try to run InverseDynamics analysis for this model, it will
cause some kinematic errors. The reason for these warnings and errors is
that there are redundant mates, i.e. there are more kinematic
constraints than necessary to constrain the model. This is generally
unsound and these additional constraints should be eliminated. There is
a simple way to try to solve this situation in AnyBody without changing
the SOLIDWORKS model. We shall try this first.</p>
<p>Firstly, we change the solver type of the AnyBodyStudy object and the
constraint type of all constraints in the translated model:</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="kt">AnyBodyStudy</span> <span class="n">Study</span> <span class="o">=</span>
<span class="p">{</span>
  <span class="kt">AnyFolder</span><span class="o">&amp;</span> <span class="n">Model</span> <span class="o">=</span> <span class="p">.</span><span class="n">FitnessMachine</span><span class="p">;</span>
  <span class="n">tStart</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="n">tEnd</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
  <span class="n">nStep</span> <span class="o">=</span> <span class="mi">101</span><span class="p">;</span>
  <span class="n">Gravity</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mf">9.81</span><span class="p">,</span> <span class="mi">0</span><span class="p">};</span>
  <span class="gr">InitialConditions.SolverType = KinSolOverDeterminate;</span>
<span class="gr">  Kinematics.SolverType = KinSolOverDeterminate; </span>
<span class="p">};</span>
</pre></div>
</div>
<p>And in the ‘FitnessMachine.any’ file we change the type of all kinematic
constraints created from mates in the SOLIDWORKS model.</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="kt">AnyFolder</span> <span class="n">FitnessMachine</span> <span class="o">=</span>
<span class="p">{</span>
  <span class="kt">AnyKinEqType</span> <span class="n">_ANY_CTYPE_</span> <span class="o">=</span> <span class="gr">Soft</span><span class="p">;</span>
  <span class="p">...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The significance of these new specifications is to switch to a kinematic
solver algorithm that allows violation of kinematic constraints if these
are considered soft, and therefore we define all of the constraints
indiscriminately as ‘Soft’.</p>
<p>After reloading the model, you may be able to run Kinematics or
InverseDynamics analysis. But this modification of solver and
constraints types ‘does not’ guarantee the successful performance of
kinematic analysis. Even if you can run your over-constrained model
successfully, there is one significant remaining problem: Generally
speaking, if there are redundant constraints in your model, it implies
that there are also redundant reaction forces in your models, since
kinematic constraints and reaction forces are connected one-to-one. In
this case, there may not be a unique solution for those unknown reaction
terms to be found by the InverseDynamics analysis.</p>
<p>Having too many reactions in a rigid-body dynamics model is similar to
what is called “statically indeterminacy” in structural mechanics. To
solve such problems, you need to know about the structural deformations
to establish the reaction forces and this involves the stiffness of the
structures, which we do not have or use in the rigid-body dynamic
analysis. To make a unique solution of the forces in rigid-body
dynamics, we must reduce the constraint reactions to match the
independent set of constraints. In other words, we must remove the
redundant constraints and thereby their reactions.</p>
<p>You may ask whether this is a choice of mathematical convenience for the
solvers to handle the problem? It is indeed mathematically convenient,
but it is also sound engineering practice in mechanism design not to
make you mechanisms over-constrained, not even if it is redundant
constraints. Manufacturing tolerances could make redundant constraints
actually conflict, leading to mechanism locking and extensive wear.
Therefore sound engineering design is to make sure that constraints and
reactions do not conflict and it is your task to introduce these
engineering design decisions properly into your models.</p>
<p>There are two ways to approach this task: editing your AnyScript model
directly or editing your mate definitions in SOLIDWORKS and re-exporting
it. We shall here adopt the latter approach.</p>
</section>
<section id="removing-redundant-mates-in-solidworks-before-doing-the-translation">
<h2>Removing redundant mates in SOLIDWORKS before doing the translation<a class="headerlink" href="#removing-redundant-mates-in-solidworks-before-doing-the-translation" title="Permalink to this headline">#</a></h2>
<p>If your SOLIDWORKS CAD model has a very complex structure, then it may
be difficult to modify the AnyScript model to remove the redundant
constraints. Furthermore, in an interactive design process, you may wish
to work with the SOLIDWORKS model and re-export it repeatedly to
AnyBody. In this case, it is probably a better choice to solve the
redundancy problem directly in the CAD system.</p>
<p>For this purpose, the SOLIDWORKS example model has already been set up
with different configurations. If you open the previous
<a class="reference download internal" download="" href="../_downloads/9300eac0ad492ca0137f018ecf4a3d4c/FitnessMachine_SolidWorks.zip"><code class="xref download docutils literal notranslate"><span class="pre">FitnessMachine\_SOLIDWORKS.zip</span></code></a>
file again in SOLIDWORKS, then you can create a new configuration and
start changing its mate definitions. We have in this model file already
created two new configurations with the results of the modification we
suggest to remove kinematic redundancy.</p>
<p><img alt="AnyExp2Solidworks Configuration" src="../_images/lesson2_image2.PNG" /></p>
<p><img alt="SolidWorks Tree view" src="../_images/lesson2_image3.PNG" /></p>
<p>We can find the main reason of mate redundancy in SOLIDWORKS by
examining several mates, which are used between two different parts in
the assembly.</p>
<p>Firstly, let us look at two mates at the ‘Mate_Config1’ configuration
of the top assembly. All the mates which were used in this configuration
can be classified as one of the standard mate types of SOLIDWORKS. Let
us find the mates, which are defined between the ‘MainBase&lt;1&gt;’ and
‘BeamType2&lt;1&gt;’ components.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Mate Type</strong></p></th>
<th class="head"><p><strong>Mate Name in the SOLIDWORKS feature tree</strong></p></th>
<th class="head"><p><strong>Related Components</strong></p></th>
<th class="head"><p><strong>Mate Entity Types</strong></p></th>
<th class="head"><p><strong>Snapshot</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Coincident</p></td>
<td><p>Coincident12</p></td>
<td><p>MainBase&lt;1&gt;</p></td>
<td><p>Plane</p></td>
<td><p><img alt="Matetype 1" src="../_images/lesson2_image4.PNG" /></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p>BeamType2&lt;1&gt;</p></td>
<td><p>Plane</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>Concentric</p></td>
<td><p>Concentric12</p></td>
<td><p>MainBase&lt;1&gt;</p></td>
<td><p>Cylinder</p></td>
<td><p><img alt="Matetype 2" src="../_images/lesson2_image5.png" /></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p>BeamType2&lt;1&gt;</p></td>
<td><p>Cylinder</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<p>The intention of using these two mates is to replicate a revolute
(hinge) joint between the ‘MainBase&lt;1&gt;’ and ‘BeamType2&lt;1&gt;’ parts. So we
used a Coincident (Plane-Plane) and a Concentric (Cylinder-Cylinder)
mate for this purpose. A Coincident (Plane-Plane) mate contains 1 linear
and 2 rotational constraints, and a Concentric (Cylinder-Cylinder) mate
contains 2 linear and 2 rotational constraints. So the sum of
constraints from these two mates is 7 constraints. But a revolute
(hinge) joint should contain 3 linear and 2 rotational constraints. So
by introducing these two mates this way, there will be 2 redundant
rotational constraints.</p>
<p>Then, let us find the mates defined between the ‘MateBase&lt;1&gt;’ and
‘BeamType2&lt;1&gt;’ components in the ‘Mate_Config2’ assembly configuration
setting.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p><strong>Mate Type</strong></p></th>
<th class="head"><p><strong>Mate Name in the SOLIDWORKS feature tree</strong></p></th>
<th class="head"><p><strong>Related Components</strong></p></th>
<th class="head"><p><strong>Mate Entity Types</strong></p></th>
<th class="head"><p><strong>Snapshot</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Coincident</p></td>
<td><p>Coincident_V_Beam_Back_Left</p></td>
<td><p>MainBase&lt;1&gt;</p></td>
<td><p>Plane</p></td>
<td><p><img alt="Matetype 3" src="../_images/lesson2_image6.PNG" /></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p>BeamType2&lt;1&gt;</p></td>
<td><p>Point</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>Concentric</p></td>
<td><p>Concentric_V_Beam_Back_Left</p></td>
<td><p>MainBase&lt;1&gt;</p></td>
<td><p>Cylinder</p></td>
<td><p><img alt="Matetype 4" src="../_images/lesson2_image5.png" /></p></td>
</tr>
<tr class="row-odd"><td><p></p></td>
<td><p></p></td>
<td><p>BeamType2&lt;1&gt;</p></td>
<td><p>Cylinder</p></td>
<td><p></p></td>
</tr>
</tbody>
</table>
<p>In this ‘Mate_Config2’ configuration, we used a Coincident
(Point-Plane) and a Concentric (Cylinder-Cylinder) mate instead. A
Coincident (Point-Plane) mate contains only 1 linear constraint. So the
sum of constraints from these two mates are 5 (3 linear and 2
rotational). Then the combination of these two mates will work the same
as a revolute joint. If you prefer to use the standard mate types of
SOLIDWORKS, then you can create revolute joints using a Coincident
(Point-Plane) and a Concentric (Cylinder-Cylinder) mate. Or you can use
a Coincident (Plane-Plane) and a Concentric (Point-Cylinder) mate
instead.</p>
<p>A good feature of SOLIDWORKS, is that SOLIDWORKS can handle some amount
of redundant mates if they are well defined, but since we are really
interested in the reaction forces of your mechanism, then it is
important for us to eliminate the redundancy of mates in the models
completely.</p>
<p>In the second configuration, ‘Mate_Config2’, we have applied more
similar changes until the model is well-defined without redundant
constraints. Basically almost all joints in the model are hinges from a
first look and therefore they all need to be reduced to having only five
constraints, like explained above. However, it turns out that this is
not enough to remove redundancy. What is still missing is that we have
closed loops, and making a closed loop with only hinges only works here
because all hinges are parallel. In other words, we have a planar
mechanism, but if the hinges were not parallel the mechanism would be
locked or maybe not even possible to assemble. Some of the “hinges” have
here been further reduced so they match what in AnyBody is called a
trans-spherical joint (AnyTransSphericalJoint), i.e., a spherical joint
which also allows one translation, here along the hinge axis. These
joint have only two translational constraints, which implies that they
do not carry moments or an axial force.</p>
<p>The selection of these reduced joints, has been made based on the actual
joints in the machine, or the assumed actual joints, since this is
constructed case. So the “strong” hinge with good hinge bearings are
made as real hinges, while “less strong” joints with clearances and
simpler bearings are made as trans-spherical joints.</p>
<p>In the SolidWork assembly, ‘Mate_Config2’, you can see our choices. We
have tried to make it visible by making the “real hinges” with a real
cylindrical part fitting a cylindrical hole, whereas the “reduced
hinges” have a reduced graphical representation like empty holes or
nothing.</p>
<p>There is a slightly alternative way to reduce mate redundancy. You can
use some of the mechanical mate types of SOLIDWORKS. Let us change the
assembly configuration to ‘Mate_Config3’ as follows. Here we have
entered topologically the same joint configuration as in
‘Mate_Config2’, but using the mechanical mates as much as possible. We
have named the mates according to the joint type we want to realize. The
trans-spherical joint type does not exist in SOLIDWORKS, so this has
been created with standard mates as in ‘Mate_Config2’.</p>
<p><img alt="AnyExp2Solidworks Config 2" src="../_images/lesson2_image7.PNG" /></p>
<p><img alt="Solidworks tree 2" src="../_images/lesson2_image8.PNG" /></p>
<p>As you can see in ‘Mate_Config3’, the usage of Hinge mates reduces the
total number of mates because a hinge mate requires four mate entities
when it is defined with standard mates. The trans-spherical constraint
is however realized simply by a Concentric(Point-Cylinder) mate. It will
work the same as the AnyTransShericalJoint in AnyBody, but the
AnyExp4SOLIDWORKS translator does not realize that it is a joint and
will only make a simple object with kinematic constraints as we saw in
Lesson 1.</p>
<p>We prefer the solution in ‘Mate_Config3’, since this approach is closer
to concepts we normally use with AnyBody, but ‘Mate_Config2’ and
‘Mate_Config3’ are mechanically equivalent.</p>
</section>
<section id="translate-a-solidworks-assembly-which-doesnt-have-any-redundant-mates">
<h2>Translate a SOLIDWORKS assembly which doesn’t have any redundant mates<a class="headerlink" href="#translate-a-solidworks-assembly-which-doesnt-have-any-redundant-mates" title="Permalink to this headline">#</a></h2>
<p>Let us translate the assembly under the ‘Mate_Config3’ configuration
into an AnyScript model by using AnyExp4SOLIDWORKS like you did in
Lesson 1. You can now open the model with the newly generated
‘FitnessMachine.main.any’ file, where you will see the model or you can
open your own version ‘My.FitnessMachine.main.any’ file where you added
the study object and the rotation driver. The latter model will now
work, i.e., you can run the ‘Kinematics’ operation in the ‘Study’, and
it will do one revolution of the machine. You can also run the
‘InverseDynamics’ without any complaints.</p>
<p>In order to do a simple review of the degrees of freedom of the
translated model try removing the driver, or just add the study to the
generated ‘FitnessMachine.main.any’, so you load a file like this:</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="n">Main</span> <span class="o">=</span>
<span class="p">{</span>
  <span class="cp">#include</span> <span class="s">&quot;FitnessMachine.any&quot;</span>

  <span class="gr">AnyBodyStudy Study =</span>
<span class="gr">  {</span>
<span class="gr">    AnyFolder&amp; Model = .FitnessMachine;</span>
<span class="gr">    tStart = 0;</span>
<span class="gr">    tEnd = 1;</span>
<span class="gr">    nStep = 101;</span>
<span class="gr">    Gravity = {0, -9.81, 0};</span>
<span class="gr">  };  </span>
<span class="p">};</span>
</pre></div>
</div>
<p>When you load this model, then you will see the following warning
message:</p>
<p><em>Model Warning: Study ‘Main.Study’ contains too few kinematic
constraints to be kinematically determinate.</em></p>
<p>Let us see the object description of the AnyBodyStudy object.</p>
<p><img alt="AnyBody Study object description" src="../_images/lesson2_image9.PNG" /></p>
<p>This assembly contains 16 components, i.e. segments. So this assembly
has a total 96 degrees of freedom when disregarding the constraints. But
then a total number of constraints from the mates of 95 is removed,
which means that only 1 degree of freedom is left. This is as expected
for the mechanism and this is the degree of freedom driven by the
driver, we have previously added.</p>
<p>You can successfully run the ‘Kinematics’ and ‘InverseDynamics’
operations of the AnyBodyStudy object and we are now ready to adding the
human to the model in the final <a class="reference internal" href="lesson3.html"><span class="doc">Lesson 3</span></a>.</p>
</section>
</section>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="lesson1.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Translating a SOLIDWORKS CAD model to AnyBody</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="lesson3.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Creating human-machine integrated analysis model</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By AnyBody Technology<br/>
  
      &copy; Copyright 2022, AnyBody Technology.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>