
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<meta content="noindex" name="robots" />
<meta property="og:title" content="Lesson 5: Forces" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://anyscript.org/The_mechanical_elements/lesson5.html" />
<meta property="og:site_name" content="AnyScript Tutorials" />
<meta property="og:description" content="There are several types of forces in an AnyBody model; forces in joints, forces in muscles, and gravity forces working on the segments. This section, however, deals only with the application of ext..." />
<meta property="og:image" content="https://anyscript.org/_images/image145.png" />
<meta property="og:image:alt" content="Simple arm model with force" />
<meta name="description" content="There are several types of forces in an AnyBody model; forces in joints, forces in muscles, and gravity forces working on the segments. This section, however, deals only with the application of ext..." />

    <title>Lesson 5: Forces &#8212; AnyBody Tutorials v7.4.3-dev</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="../_static/styles/bootstrap.css?digest=796348d33e8b1d947c94" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=796348d33e8b1d947c94" rel="stylesheet">

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=796348d33e8b1d947c94" rel="stylesheet">
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2">
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=7ab92a51a5495e97401ebce935f72df2445e26b3" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94">
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=720741f5ee25ed36d7e8b46c508e20dac74c35bf"></script>
    <script src="../_static/js/custom.js"></script>
    <script src="../_static/design-tabs.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'The_mechanical_elements/lesson5';</script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Force-Dependent Kinematics" href="../ForceDependentKinematics/index.html" />
    <link rel="prev" title="Lesson 4: Kinematic Measures" href="lesson4.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="docsearch:language" content="en">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>

  
  <input type="checkbox" class="sidebar-toggle" name="__primary" id="__primary">
  <label class="overlay overlay-primary" for="__primary"></label>

  
  <input type="checkbox" class="sidebar-toggle" name="__secondary" id="__secondary">
  <label class="overlay overlay-secondary" for="__secondary"></label>

  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
      
<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="" aria-label="" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
  </div>

  
  <nav class="bd-header navbar navbar-expand-lg bd-navbar" id="navbar-main"><div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
      <span class="fa-solid fa-bars"></span>
  </label>
  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../index.html">

  
  
  
  
  
  
  

  
    <img src="../_static/AnyBodyTutorials2.svg" class="logo__image only-light" alt="Logo image">
    <img src="../_static/AnyBodyTutorials2.svg" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  
  <div class="col-lg-9 navbar-header-items">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../GettingStarted.html">
                        Getting Started
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../Tutorials.html">
                        Tutorials
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../about.html">
                        About
                      </a>
                    </li>
                
    </ul>
</nav>
      </div>
      
    </div>

    <div id="navbar-end">
      
        <div class="navbar-end-item navbar-persistent--container">
          
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
        </div>
      
      
      <div class="navbar-end-item">
        <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
</button>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
  </div>


  
  
    <div class="navbar-persistent--mobile">
<button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-toggle="tooltip">
  <i class="fa-solid fa-magnifying-glass"></i>
</button>
    </div>
  

  
  <label class="sidebar-toggle secondary-toggle" for="__secondary">
      <span class="fa-solid fa-outdent"></span>
  </label>
  

</div>
  </nav>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        
  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
      
      <div class="navbar-center-item">
        <nav class="navbar-nav">
    <p class="sidebar-header-items__title" role="heading" aria-level="1" aria-label="Site Navigation">
        Site Navigation
    </p>
    <ul id="navbar-main-elements" class="navbar-nav">
        
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../GettingStarted.html">
                        Getting Started
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="../Tutorials.html">
                        Tutorials
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../about.html">
                        About
                      </a>
                    </li>
                
    </ul>
</nav>
      </div>
      
      </div>
    

    
    
    <div class="sidebar-header-items__end">
      
      <div class="navbar-end-item">
        <button class="theme-switch-button btn btn-sm btn-outline-primary navbar-btn rounded-circle" title="light/dark" aria-label="light/dark" data-toggle="tooltip">
    <span class="theme-switch" data-mode="light"><i class="fa-solid fa-sun"></i></span>
    <span class="theme-switch" data-mode="dark"><i class="fa-solid fa-moon"></i></span>
    <span class="theme-switch" data-mode="auto"><i class="fa-solid fa-circle-half-stroke"></i></span>
</button>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
      </ul>
      </div>
      
    </div>
    
  </div>

  
  <div class="sidebar-start-items sidebar-primary__section">
    <div class="sidebar-start-items__item">
  


<a class="navbar-brand logo" href="../index.html">

  
  
  
  
  
  
  

  
    <img src="../_static/AnyBodyTutorials2.svg" class="logo__image only-light" alt="Logo image">
    <img src="../_static/AnyBodyTutorials2.svg" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    </div>
    <div class="sidebar-start-items__item">
<form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="" aria-label="" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
    </div>
    <div class="sidebar-start-items__item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../GettingStarted.html"><strong>Getting Started</strong></a><input checked class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../A_Getting_started/index.html">Getting Started - First steps</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../A_Getting_started/intro.html">Getting Started Tutorial</a></li>


<li class="toctree-l3"><a class="reference internal" href="../A_Getting_started/lesson1.html">Lesson 1: Creating a Standing Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../A_Getting_started/lesson2.html">Lesson 2: Controlling the Posture</a></li>
<li class="toctree-l3"><a class="reference internal" href="../A_Getting_started/lesson3.html">Lesson 3: Reviewing Analysis Results</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../A_Getting_started_anyscript/index.html">How to write AnyScript</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../A_Getting_started_anyscript/intro.html">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../A_Getting_started_anyscript/lesson1.html">Lesson 1: Basic Concepts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../A_Getting_started_anyscript/lesson2.html">Lesson 2: Defining Segments and Displaying Objects</a></li>
<li class="toctree-l3"><a class="reference internal" href="../A_Getting_started_anyscript/lesson3.html">Lesson 3: Connecting Segments by Joints</a></li>
<li class="toctree-l3"><a class="reference internal" href="../A_Getting_started_anyscript/lesson4.html">Lesson 4: Imparting movement with Drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../A_Getting_started_anyscript/lesson5.html">Lesson 5: Definition of Muscles and External Forces</a></li>
<li class="toctree-l3"><a class="reference internal" href="../A_Getting_started_anyscript/lesson6.html">Lesson 6: Adding Real Bone Geometries</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../A_Getting_started_modeling/index.html">Modelling the Human body</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-4"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../A_Getting_started_modeling/intro.html">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../A_Getting_started_modeling/lesson1.html">Lesson 1: Starting with a New Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../A_Getting_started_modeling/lesson2.html">Lesson 2: Adjusting the Human Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../A_Getting_started_modeling/lesson3.html">Lesson 3: Making Ends Meet</a></li>
<li class="toctree-l3"><a class="reference internal" href="../A_Getting_started_modeling/lesson4.html">Lesson 4: Kinetics - Computing Forces</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../A_Getting_started_AMMR/index.html">The AnyBody Model Repository</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-5"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference external" href="https://anyscript.org/ammr-doc/creating_model_from_scratch.html">Creating a Human Model from scratch</a></li>
<li class="toctree-l3"><a class="reference external" href="https://anyscript.org/ammr-doc/Scaling/lesson1.html">Scaling: Joint to joint scaling</a></li>
<li class="toctree-l3"><a class="reference external" href="https://anyscript.org/ammr-doc/Scaling/lesson2.html">Scaling: External Body Measurements</a></li>
<li class="toctree-l3"><a class="reference external" href="https://anyscript.org/ammr-doc/Scaling/lesson3.html">Scaling: Segmental scaling factors</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 current active has-children"><a class="reference internal" href="../Tutorials.html"><strong>Tutorials</strong></a><input checked class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-6"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2 has-children"><a class="reference internal" href="../A_study_of_studies/index.html">A Study of Studies</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-7"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../A_study_of_studies/intro.html">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../A_study_of_studies/lesson1.html">Lesson1: Mechanical System Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../A_study_of_studies/lesson2.html">Lesson2: Initial Conditions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../A_study_of_studies/lesson3.html">Lesson 3: Kinematic Analysis</a></li>
<li class="toctree-l3"><a class="reference internal" href="../A_study_of_studies/lesson4.html">Lesson 4: Inverse Dynamics</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Making_things_move/index.html">Making things move</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-8"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Making_things_move/intro.html">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Making_things_move/lesson1.html">Lesson1: Simple drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Making_things_move/lesson2.html">Lesson 2: Using motion capture data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Making_things_move/lesson3.html">Lesson3: Noise and filters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Making_things_move/lesson4.html">Lesson 4: Parameter identification</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Making_things_move/lesson5.html">Lesson 5: Using real data</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Making_things_move/lesson6.html">Lesson 6: Troubleshooting C3D files</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../MuscleRecruitment/index.html">Inverse Dynamics of Muscle Systems</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-9"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../MuscleRecruitment/Inverse_dynamics.html">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../MuscleRecruitment/lesson1.html">Lesson 1: The Basics of Muscle Recruitment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../MuscleRecruitment/lesson2.html">Lesson 2: Linear Muscle Recruitment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../MuscleRecruitment/lesson3.html">Lesson 3: Quadratic Muscle Recruitment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../MuscleRecruitment/lesson4.html">Lesson 4: Polynomial Muscle Recruitment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../MuscleRecruitment/lesson5.html">Lesson 5: Min/Max Muscle Recruitment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../MuscleRecruitment/lesson6.html">Lesson 6: Composite Recruitment Criteria</a></li>
<li class="toctree-l3"><a class="reference internal" href="../MuscleRecruitment/lesson_calibration.html">Lesson 7: Calibration</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Muscle_modeling/index.html">Muscle Modeling</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-10"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Muscle_modeling/intro.html">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Muscle_modeling/lesson1.html">Lesson 1: The Basics of Muscle Definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Muscle_modeling/lesson2.html">Lesson 2: Controlling Muscle Drawing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Muscle_modeling/lesson3.html">Lesson 3: Via-point Muscles</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Muscle_modeling/lesson4.html">Lesson 4: Wrapping Muscles</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Muscle_modeling/lesson5.html">Lesson 5: Muscle Models</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Muscle_modeling/lesson6.html">Lesson 6: General Muscles</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Muscle_modeling/lesson7.html">Lesson 7: Ligaments</a></li>
</ul>
</li>
<li class="toctree-l2 current active has-children"><a class="reference internal" href="index.html">The Mechanical Elements</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-11"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson1.html">Lesson 1: Segments</a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson2.html">Lesson 2: Joints</a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson3.html">Lesson 3: Drivers</a></li>
<li class="toctree-l3"><a class="reference internal" href="lesson4.html">Lesson 4: Kinematic Measures</a></li>
<li class="toctree-l3 current active"><a class="current reference internal" href="#">Lesson 5: Forces</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../ForceDependentKinematics/index.html">Force-Dependent Kinematics</a><input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-12"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../ForceDependentKinematics/fdk.html">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ForceDependentKinematics/lesson1.html">Lesson 1: The Baseline Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ForceDependentKinematics/lesson2.html">Lesson 2: Adding FDK Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ForceDependentKinematics/lesson3.html">Lesson 3: Results of FDK</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ForceDependentKinematics/lesson4.html">Lesson 4: Using Surfaces to Define the Knee Joint</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ForceDependentKinematics/lesson5.html">Lesson 5: Using Contact Forces to Replace a Joint in a Human Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ForceDependentKinematics/fdkappendix.html">FDK appendix</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Parameter_studies_and_optimization/index.html">Parameter Studies and Optimization</a><input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-13"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Parameter_studies_and_optimization/intro.html">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Parameter_studies_and_optimization/lesson1.html">Defining a Parameter Study</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Parameter_studies_and_optimization/lesson2.html">Optimization Studies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Parameter_studies_and_optimization/lesson3.html">Optimization Studies in Python</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Finite_element_analysis/index.html">Finite Element Analysis Interfacing</a><input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-14"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Finite_element_analysis/lesson1.html">Lesson 1: Export of data for FEA</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Finite_element_analysis/lesson2.html">Lesson 2: ANSYS Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Finite_element_analysis/lesson3.html">Lesson 3: Abaqus Interface</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../AnyExp4SOLIDWORKS/index.html">Making Models using SOLIDWORKS</a><input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-15"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../AnyExp4SOLIDWORKS/lesson1.html">Translating a SOLIDWORKS CAD model to AnyBody</a></li>
<li class="toctree-l3"><a class="reference internal" href="../AnyExp4SOLIDWORKS/lesson2.html">Making the translated AnyScript model move</a></li>
<li class="toctree-l3"><a class="reference internal" href="../AnyExp4SOLIDWORKS/lesson3.html">Creating human-machine integrated analysis model</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Scaling/index.html">Scaling and Personalizing your model</a><input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-16"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3 has-children"><a class="reference internal" href="../Scaling/lesson3.html">Lesson 1: Scaling based on medical images</a><input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-17"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l4"><a class="reference internal" href="../Scaling/lesson3_appendix.html"> Lesson 1 appendix</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../Scaling/lesson4.html">Lesson 2: Including a custom scaling function into your model</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Posture_and_movement/intro.html">Posture and Movement Prediction</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Interface_features/index.html">User interface features</a><input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-18"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Interface_features/intro.html">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Interface_features/lesson1.html">Lesson 1: The Editor Window</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Interface_features/lesson2.html">Lesson 2: The Model View Window</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Interface_features/lesson3.html">Lesson 3: The Chart View</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Interface_features/lesson4.html">Lesson 4: The Model Tree and Object Description</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Interface_features/lesson5.html">Lesson 5: The Command Line Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Interface_features/lesson6.html">Lesson 6: Modifying the Loaded Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Interface_features/lesson7.html">Lesson 7: Wrapping the Model with AnyBody Project</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Advanced_script_features/index.html">Advanced Script Features</a><input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-19"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Advanced_script_features/lesson1.html">Lesson 1: Using References</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Advanced_script_features/lesson2.html">Lesson 2: Using Include Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Advanced_script_features/lesson3.html">Lesson 3: Mathematical Expressions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Troubleshooting_anyscript/intro.html">Trouble Shooting AnyScript Models</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../Validation_of_models/index.html">Validation of Models</a><input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-20"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../Validation_of_models/intro.html">Introduction to validation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Validation_of_models/Kinematic_input.html">Validating Kinematic input</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../about.html"><strong>About</strong></a><input checked class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-21"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html">Help improve tutorials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../legal.html">Legal, Trademarks and Copyrights</a></li>
</ul>
</li>
</ul>

    </div>
</nav>
    </div>
  </div>
  

  
  <div class="sidebar-end-items sidebar-primary__section">
    <div class="sidebar-end-items__item">
    </div>
  </div>

  
  <div id="rtd-footer-container"></div>

      </div>
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

        <div class="bd-content">
          <div class="bd-article-container">
            
            <div class="bd-header-article">
                



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        <label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar">
            <span class="fa-solid fa-bars"></span>
        </label>
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="btn btn-sm"
  title="Fullscreen mode"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<div class="dropdown dropdown-repository-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      <li><a href="https://github.com/anybody/anybody-tutorial/issues/new?title=Issue%20on%20page%20%2FThe_mechanical_elements/lesson5.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm dropdown-item"
   title="Open an issue"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">open issue</span>
</a>
</a>
      
      <li><a href="https://github.com/anybody/anybody-tutorial/edit/master/The_mechanical_elements/lesson5.md" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Edit this page"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">suggest edit</span>
</a>
</a>
      
  </ul>
</div>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar">
            <span class="fa-solid fa-list"></span>
        </label>
    </div>
</div>
            </div>
            
            

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Lesson 5: Forces</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#anyforce3d-external-forces">
   AnyForce3D: External forces
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#anyforce-internal-forces-sort-of">
   AnyForce: Internal forces (sort of)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#further-studies">
   Further studies:
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>

            <article class="bd-article" role="main">
              
  <section class="tex2jax_ignore mathjax_ignore" id="lesson-5-forces">
<h1>Lesson 5: Forces<a class="headerlink" href="#lesson-5-forces" title="Permalink to this heading">#</a></h1>
<div class="caution margin admonition">
<p class="admonition-title"><strong>Old tutorial:</strong></p>
<p>This tutorial has not yet been updated to ver. 7 of the AnyBody Modeling System. Some concepts may have changed.</p>
</div>
<p>There are several types of forces in an AnyBody model; forces in joints,
forces in muscles, and gravity forces working on the segments. This
section, however, deals only with the application of external forces. We
need something to work on, and <a class="reference download internal" download="" href="../_downloads/0617c6add42807547d239396413c5a2f/Demo.Forces.1.any"><code class="xref download docutils literal notranslate"><span class="pre">here's</span> <span class="pre">a</span> <span class="pre">copy</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">simple</span> <span class="pre">arm</span> <span class="pre">model</span></code></a> you
can use. Please right-click here and save to your local disk
(Demo.Forces.1.any). When you have saved the file, please open it up in
AnyBody.</p>
<p>At the end of the ArmModel folder you will find that we have added an
empty folder named Loads:</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span>    <span class="gr">AnyFolder Loads = {</span>
<span class="gr">    </span>
<span class="gr">    };  // Loads folder</span>
<span class="p">};</span> <span class="c1">// ArmModel</span>
</pre></div>
</div>
<section id="anyforce3d-external-forces">
<h2>AnyForce3D: External forces<a class="headerlink" href="#anyforce3d-external-forces" title="Permalink to this heading">#</a></h2>
<p>External forces on a mechanical system are usualy perceived as vectors
with some point of attack, and this is indeed one of the ways you can
define forces in AnyScript. Let us begin by defining a force acting on
the PalmNode of the ForeArm segment. The way to go is to first make sure
the model is loaded successfully (by having pressed F7). Please do not
reload the model again before we are finished making the necessary
changes.</p>
<p>Place the cursor on the empty line inside the new Loads folder. Then
select the Classes tab in the tree view on the left hand side of the
editor window, expand the Class List and scroll down until you come to
AnyForce3D. Right-click the class and pick Insert Class Template. This
will give you:</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="kt">AnyFolder</span> <span class="n">Loads</span> <span class="o">=</span> <span class="p">{</span>
    <span class="gr">AnyForce3D &lt;ObjectName&gt; = {</span>
<span class="gr">        //F = {0, 0, 0};</span>
<span class="gr">        //Flocal = {0, 0, 0};</span>
<span class="gr">        AnyRefFrame &amp;&lt;Insert name0&gt; = &lt;Insert object reference (or full object definition)&gt;;</span>
<span class="gr">    };</span>
<span class="p">};</span>  <span class="c1">// Loads folder</span>
</pre></div>
</div>
<p>Let us initially give the force a descriptive name:</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="kt">AnyFolder</span> <span class="n">Loads</span> <span class="o">=</span> <span class="p">{</span>
    <span class="kt">AnyForce3D</span> <span class="gr">PalmLoad</span> <span class="o">=</span> <span class="p">{</span>
        <span class="c1">//F = {0, 0, 0};</span>
        <span class="c1">//Flocal = {0, 0, 0};</span>
        <span class="kt">AnyRefFrame</span> <span class="o">&amp;&lt;</span><span class="n">Insert</span> <span class="n">name0</span><span class="o">&gt;</span> <span class="o">=</span> <span class="o">&lt;</span><span class="n">Insert</span> <span class="n">object</span> <span class="n">reference</span> <span class="p">(</span><span class="n">or</span> <span class="n">full</span> <span class="n">object</span> <span class="n">definition</span><span class="p">)</span><span class="o">&gt;</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">};</span>  <span class="c1">// Loads folder</span>
</pre></div>
</div>
<p>One of the missing blanks is an AnyRefFrame. This is the point of attack
of the force. In our case we want it to work on the PalmNode. We first
prepare for inserting the name of the node:</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="kt">AnyFolder</span> <span class="n">Loads</span> <span class="o">=</span> <span class="p">{</span>
    <span class="kt">AnyForce3D</span> <span class="n">PalmLoad</span> <span class="o">=</span> <span class="p">{</span>
        <span class="c1">//F = {0, 0, 0};</span>
        <span class="c1">//Flocal = {0, 0, 0};</span>
        <span class="kt">AnyRefFrame</span> <span class="gr">&amp;PointOfAttack = </span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">};</span>  <span class="c1">// Loads folder</span>
</pre></div>
</div>
<p>Now, please place the cursor just before the semicolon at the end of the
PointOfAttack line, select the Model tab in the tree view on the left
hand side of the editor window, unfold the ArmModel.Segs.ForeArm branch,
locate the PalmNode, right-click it and select Insert Object Name. You
should get the following result:</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="kt">AnyFolder</span> <span class="n">Loads</span> <span class="o">=</span> <span class="p">{</span>
    <span class="kt">AnyForce3D</span> <span class="n">PalmLoad</span> <span class="o">=</span> <span class="p">{</span>
        <span class="c1">//F = {0, 0, 0};</span>
        <span class="c1">//Flocal = {0, 0, 0};</span>
        <span class="kt">AnyRefFrame</span> <span class="o">&amp;</span><span class="n">PointOfAttack</span> <span class="o">=</span> <span class="gr">Main.ArmModel.Segs.ForeArm.PalmNode</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">};</span>  <span class="c1">// Loads folder</span>
</pre></div>
</div>
<p>Please notice now that two lines in the middle of the object are
commented out. We need to enable exactly one of them and we shall begin
with the first one, specifying also a non-zero force vector:</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="kt">AnyFolder</span> <span class="n">Loads</span> <span class="o">=</span> <span class="p">{</span>
    <span class="kt">AnyForce3D</span> <span class="n">PalmLoad</span> <span class="o">=</span> <span class="p">{</span>
        <span class="gr">F = {0, -50, 0};</span>
        <span class="c1">//Flocal = {0, 0, 0};</span>
        <span class="kt">AnyRefFrame</span> <span class="o">&amp;</span><span class="n">PointOfAttack</span> <span class="o">=</span> <span class="n">Main</span><span class="p">.</span><span class="n">ArmModel</span><span class="p">.</span><span class="n">Segs</span><span class="p">.</span><span class="n">ForeArm</span><span class="p">.</span><span class="n">PalmNode</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">};</span>  <span class="c1">// Loads folder</span>
</pre></div>
</div>
<p>When this specification is used, the force vector gets defined in global
coordinates. The global <em>y</em> direction in this model is upwards, so the
vector F = {0, -50, 0} specifies a load directed downwards. Now is the
time to reload the model and open a Model View window if you have not
already done so. After successful load, please select the
InverseDynamicAnalysis and click the Run button. You will see the
bulging of the muscles in response to the downward load on the hand.</p>
<p>It may be nice to be able to actually see the force we have applied.
This can be done with an AnyDrawVector object that we can conveniently
place inside the PalmLoad object like this:</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="kt">AnyFolder</span> <span class="n">Loads</span> <span class="o">=</span> <span class="p">{</span>
    <span class="kt">AnyForce3D</span> <span class="n">PalmLoad</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">F</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">50</span><span class="p">,</span> <span class="mi">0</span><span class="p">};</span>
        <span class="c1">//Flocal = {0, -50, 0};</span>
        <span class="kt">AnyRefFrame</span> <span class="o">&amp;</span><span class="n">PointOfAttack</span> <span class="o">=</span> <span class="n">Main</span><span class="p">.</span><span class="n">ArmModel</span><span class="p">.</span><span class="n">Segs</span><span class="p">.</span><span class="n">ForeArm</span><span class="p">.</span><span class="n">PalmNode</span><span class="p">;</span>
        <span class="gr">AnyDrawVector drF = {</span>
<span class="gr">            Vec = .RefFrameOutput.F[0]/200;   // Scale the length down</span>
<span class="gr">            Line = {</span>
<span class="gr">                Style = Line3DStyleFull;</span>
<span class="gr">                Thickness = 0.01;</span>
<span class="gr">                RGB = {1, 0, 0};</span>
<span class="gr">                End = {</span>
<span class="gr">                    Style = Line3DCapStyleArrow;  // This specifies the end to be an arrowhead</span>
<span class="gr">                    RGB = {1, 0, 0};</span>
<span class="gr">                    Thickness = 0.02;  // The head begins with twice the thickness of the shaft</span>
<span class="gr">                    Length = 0.05;</span>
<span class="gr">                };</span>
<span class="gr">            };</span>
<span class="gr">        // attach the arrow to the hand</span>
<span class="gr">        AnyRefFrame &amp;Palm = Main.ArmModel.Segs.ForeArm.PalmNode;</span>
<span class="gr">        };</span>
    <span class="p">};</span>
<span class="p">};</span>
</pre></div>
</div>
<p>As you can see, the AnyDrawVec is a class with a lot of different
settings available, and there are actually much more than listed here.
You get to see all of them if you use the class tree to insert the
object. For now, let’s just reload the object and run the model. You
should see a red arrow pointing down from the hand indicating the
direction of the force.</p>
<p><img alt="Simple arm model with force" src="../_images/image145.png" /></p>
<p>One of the advantages of defining models in a computer language is that
numbers can be replaced by mathematical expressions. So instead of the
constant force vector we can write a function of time, for instance:</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="kt">AnyFolder</span> <span class="n">Loads</span> <span class="o">=</span> <span class="p">{</span>
    <span class="kt">AnyForce3D</span> <span class="n">PalmLoad</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">F</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">50</span><span class="p">,</span> <span class="mi">0</span><span class="p">}</span><span class="gr">*sin(2*pi*t)</span><span class="p">;</span>
        <span class="c1">//Flocal = {0, 0, 0};</span>
        <span class="kt">AnyRefFrame</span> <span class="o">&amp;</span><span class="n">PointOfAttack</span> <span class="o">=</span> <span class="n">Main</span><span class="p">.</span><span class="n">ArmModel</span><span class="p">.</span><span class="n">Segs</span><span class="p">.</span><span class="n">ForeArm</span><span class="p">.</span><span class="n">PalmNode</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">};</span>  <span class="c1">// Loads folder</span>
</pre></div>
</div>
<p>If you reload and run the InverseDynamicAnalysis again you will see the
force arrow chage direction and you will also see that the muscle
activation changes from the frontal to the posterior side of the arm in
response to the changing load.</p>
<p>Let’s impose some movement. It is easily done by a small change in the
elbow driver:</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="kt">AnyKinEqSimpleDriver</span> <span class="n">ElbowMotion</span> <span class="o">=</span> <span class="p">{</span>
    <span class="kt">AnyRevoluteJoint</span> <span class="o">&amp;</span><span class="n">Jnt</span> <span class="o">=</span> <span class="p">..</span><span class="n">Jnts</span><span class="p">.</span><span class="n">Elbow</span><span class="p">;</span>
    <span class="n">DriverPos</span> <span class="o">=</span> <span class="p">{</span><span class="mf">1.5</span><span class="p">};</span>
    <span class="n">DriverVel</span> <span class="o">=</span> <span class="p">{</span><span class="gr">60*pi/180</span><span class="p">};</span>
    <span class="n">Reaction</span><span class="p">.</span><span class="n">Type</span> <span class="o">=</span> <span class="p">{</span><span class="kp">Off</span><span class="p">};</span>
<span class="p">};</span> <span class="c1">// Elbow driver</span>
</pre></div>
</div>
<p>After this change try reloading the model and running the inverse
dynamic analysis again. You should see the model flex its elbow.</p>
<p>For the next issue it is better to change the force back to a constant
value:</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="kt">AnyFolder</span> <span class="n">Loads</span> <span class="o">=</span> <span class="p">{</span>
    <span class="kt">AnyForce3D</span> <span class="n">PalmLoad</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">F</span> <span class="o">=</span> <span class="gr">{0, -50, 0}</span><span class="p">;</span>
        <span class="c1">//Flocal = {0, 0, 0};</span>
        <span class="kt">AnyRefFrame</span> <span class="o">&amp;</span><span class="n">PointOfAttack</span> <span class="o">=</span> <span class="n">Main</span><span class="p">.</span><span class="n">ArmModel</span><span class="p">.</span><span class="n">Segs</span><span class="p">.</span><span class="n">ForeArm</span><span class="p">.</span><span class="n">PalmNode</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">};</span>  <span class="c1">// Loads folder</span>
</pre></div>
</div>
<p>Please load and run again and notice how the external force is vertical
all the time regardless of the movement of the forearm. This is because
we used the property F to specify the force in the PalmLoad object. How
would we go about defining a force that follows the direction of the
hand instead? Well, this is what the Flocal property is for. Let’s make
a small change in the force specification:</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="kt">AnyFolder</span> <span class="n">Loads</span> <span class="o">=</span> <span class="p">{</span>
    <span class="kt">AnyForce3D</span> <span class="n">PalmLoad</span> <span class="o">=</span> <span class="p">{</span>
        <span class="gr">//</span><span class="c1">F = {0, -50, 0};</span>
        <span class="gr">Flocal = {0, -50, 0};</span>
        <span class="kt">AnyRefFrame</span> <span class="o">&amp;</span><span class="n">PointOfAttack</span> <span class="o">=</span> <span class="n">Main</span><span class="p">.</span><span class="n">ArmModel</span><span class="p">.</span><span class="n">Segs</span><span class="p">.</span><span class="n">ForeArm</span><span class="p">.</span><span class="n">PalmNode</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">};</span>  <span class="c1">// Loads folder</span>
</pre></div>
</div>
<p>The only change here is that we are using the Flocal property rather
than F to specify the force. Loading and running the model again will
show the force now changing direction with the movement of the arm but
maintaining its direction perpendicular to the forearm, i.e. in the
negative <em>y</em> axis of the PalmNode reference system to which it is attached.</p>
<p><img alt="Arm model with force 2" src="../_images/image236.png" /></p>
</section>
<section id="anyforce-internal-forces-sort-of">
<h2>AnyForce: Internal forces (sort of)<a class="headerlink" href="#anyforce-internal-forces-sort-of" title="Permalink to this heading">#</a></h2>
<p>Many applications in biomechanics deal with some notion of joint moment.
Let us imagine we wanted to apply a given joint moment to the elbow and
check how the muscles would cope with carrying that.</p>
<p>Our first idea might be that the Flocal property of AnyForce3D would be
ideal for this. If we just work out the distance between the elbow and
the PalmNode then we can easily compute how much Flocal we have to apply
to the forearm to obtain the desired joint moment in the elbow.</p>
<p>But first ideas don’t always fly and in this situation the use of
AnyForce3D with Flocal would have an undesirable side effect: The
applied force would also generate a moment about the shoulder joint, and
since there are bi-articular muscles crossing the shoulder as well as
the elbow this is likely to disturb the muscle recruitment pattern
significantly. So, what to do?</p>
<p>Well, what we really want is something that just affects the elbow and
is balanced perfectly from the point-of-view of the rest of the model.
We could come up with an applied force that goes from the upper arm to
the forearm, and should this force then be perpendicular to the forearm
or to the upper arm? Obviously it cannot be both.</p>
<p>It looks like it might be nice with a more general force application
option, and this is what the AnyForce class is. It allows us to apply a
generalized force to any kinematic measure we can possibly define. The
AnyForce takes the form of the kinematic measure, so a linear measure
results in a force and a rotational measure results in a moment.
Moreover, because kinematic measures are such a general concept there
are very few limits to the kinds of forces that they can be used to
specify. So, the elbow moment might simply be applied as an AnyForce
applied to some rotational measure of the elbow angle, and as the
measure we can conveniently use the elbow joint.</p>
<p>We start by disabling the external forces from before:</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="kt">AnyFolder</span> <span class="n">Loads</span> <span class="o">=</span> <span class="p">{</span>
    <span class="kt">AnyForce3D</span> <span class="n">PalmLoad</span> <span class="o">=</span> <span class="p">{</span>
        <span class="c1">//F = {0, -50, 0};</span>
        <span class="n">Flocal</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="gr">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">};</span>
</pre></div>
</div>
<p>Instead, we define an AnyForce. Place the cursor inside the Loads folder
right after the ending brace of the PalmLoad object. Then click the
Classes tab in the tree on the left hand side of the editor window,
unfold the Class list, scroll down to the AnyForce class, right-click it
and insert a template. You should get this:</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="kt">AnyFolder</span> <span class="n">Loads</span> <span class="o">=</span> <span class="p">{</span>
    <span class="kt">AnyForce3D</span> <span class="n">PalmLoad</span> <span class="o">=</span> <span class="p">{</span>
        <span class="c1">//F = {0, -50, 0};</span>
        <span class="n">Flocal</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">};</span>
        <span class="kt">AnyRefFrame</span> <span class="o">&amp;</span><span class="n">PointOfAttack</span> <span class="o">=</span> <span class="n">Main</span><span class="p">.</span><span class="n">ArmModel</span><span class="p">.</span><span class="n">Segs</span><span class="p">.</span><span class="n">ForeArm</span><span class="p">.</span><span class="n">PalmNode</span><span class="p">;</span>
        <span class="kt">AnyDrawVector</span> <span class="n">drF</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">Vec</span> <span class="o">=</span> <span class="p">.</span><span class="n">RefFrameOutput</span><span class="p">.</span><span class="n">F</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">/</span><span class="mi">200</span><span class="p">;</span>
            <span class="n">Line</span> <span class="o">=</span> <span class="p">{</span>
                <span class="n">Style</span> <span class="o">=</span> <span class="kp">Line3DStyleFull</span><span class="p">;</span>
                <span class="n">Thickness</span> <span class="o">=</span> <span class="mf">0.01</span><span class="p">;</span>
                <span class="n">RGB</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">};</span>
                <span class="n">End</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="n">Style</span> <span class="o">=</span> <span class="kp">Line3DCapStyleArrow</span><span class="p">;</span>
                    <span class="n">RGB</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">};</span>
                    <span class="n">Thickness</span> <span class="o">=</span> <span class="mf">0.02</span><span class="p">;</span>
                    <span class="n">Length</span> <span class="o">=</span> <span class="mf">0.05</span><span class="p">;</span>
                <span class="p">};</span>
            <span class="p">};</span>
            <span class="kt">AnyRefFrame</span> <span class="o">&amp;</span><span class="n">Palm</span> <span class="o">=</span> <span class="n">Main</span><span class="p">.</span><span class="n">ArmModel</span><span class="p">.</span><span class="n">Segs</span><span class="p">.</span><span class="n">ForeArm</span><span class="p">.</span><span class="n">PalmNode</span><span class="p">;</span>
        <span class="p">};</span>
    <span class="p">};</span>

    <span class="gr">AnyForce &lt;ObjectName&gt; =</span>
<span class="gr">    {</span>
<span class="gr">        F = ;</span>
<span class="gr">        //AnyKinMeasure &amp;&lt;Insert name0&gt; = &lt;Insert object reference (or full object definition)&gt;;</span>
<span class="gr">    };</span>
<span class="p">};</span>  <span class="c1">// Loads folder</span>
</pre></div>
</div>
<p>The structure of the AnyForce class is obviously very simple. This is
because it draws so heavily on the kinematic measure inside it for its
definition. Let’s apply a moment to the elbow:</p>
<div class="highlight-AnyScriptDoc notranslate"><div class="highlight"><pre><span></span><span class="kt">AnyForce</span> <span class="gr">ElbowMoment</span> <span class="o">=</span> <span class="p">{</span>
    <span class="n">F</span> <span class="o">=</span> <span class="gr">{-50}</span><span class="p">;</span>
    <span class="kt">AnyKinMeasure</span> <span class="o">&amp;</span><span class="gr">Elbow</span> <span class="o">=</span> <span class="gr">Main.ArmModel.Jnts.Elbow</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<p>This applies a moment of -50 units to the elbow. This happens to be an
extension moment, so when you load and run the model again, you will
notice activity mainly in the flexor muscles. But how did we know that a
negative value corresponds to an extension moment? It is actually rather
simple. The joint has a positive angle direction and the applied
AnyForce follows the sign convention of the kinematic measure it is
attached to. In our case we know from the setting of the driver moving
the elbow joint that a positive angular velocity corresponds to flexion,
so a negative moment on the corresponding kinematic measure must be an
extension moment.</p>
<p>If you look carefully, you will also see activity in some of the
mono-articular shoulder muscles. Why does this happen? Wasn’t the
AnyForce supposed to only affect the elbow? Indeed it was and does, but
some of the muscles crossing the elbow also affect the shoulder, so
co-contraction is necessary to stabilize the shoulder in the presence of
elbow muscle activity.</p>
<p>What makes the AnyForce local, then? The answer is that the AnyForce
refers to the elbow joint, and the elbow joint refers to the upper arm
and the forearm. So these are the segments affected by the AnyForce. If
the AnyForce includes a reference to a fixed reference frame then the
force applied will have a component going to ground and it will at least
partially work as an external force, but otherwise it is strictly
internal.</p>
<p>AnyForces have many interesting applications. For instance they can be
used to specify gravity-type force fields if you apply them to an AnyCoM
measure. Another interesting use of AnyForces is for specification of
predefined muscle forces. There is a kinematic meaure inside any muscle,
and if an AnyForce is applied to this measure, that force will be
predefined in the muscle. Please notice, that the system may decide to
recruit muscle force beyond what you have applied unless the muscle has
been set to zero strength.</p>
</section>
<section id="further-studies">
<h2>Further studies:<a class="headerlink" href="#further-studies" title="Permalink to this heading">#</a></h2>
<p>The following two examples illustrate more of the features of forces in
AnyBody.</p>
<ol class="arabic simple">
<li><p><a class="reference download internal" download="" href="../_downloads/1d155d6b63fd219a36b5ff5764913b7b/Demo.Forces.any"><code class="xref download docutils literal notranslate"><span class="pre">Demo.Forces.any</span></code></a></p></li>
<li><p><a class="reference download internal" download="" href="../_downloads/fcd46dc0303557c6399f0f5190ceaa0c/Demo.AnyForce.any"><code class="xref download docutils literal notranslate"><span class="pre">Demo.AnyForce.any</span></code></a></p></li>
</ol>
<p>The first example is a rather basic application of time-varying forces
to the simple arm model. In addition to the subjects covered in the
sections above it shows forces defined directly as interpolated values a
set of measured data points, for instance from a force platform.</p>
<p>The second example illustrates among other things how forces acting on a
segment can be summed up.</p>
</section>
</section>


            </article>
            

            
            
            <footer class="bd-footer-article">
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="lesson4.html" title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">previous</p>
          <p class="prev-next-title">Lesson 4: Kinematic Measures</p>
      </div>
  </a>
  <a class='right-next' id="next-link" href="../ForceDependentKinematics/index.html" title="next page">
  <div class="prev-next-info">
      <p class="prev-next-subtitle">next</p>
      <p class="prev-next-title">Force-Dependent Kinematics</p>
  </div>
  <i class="fa-solid fa-angle-right"></i>
  </a>
</div>
            </footer>
            
          </div>
          
          
          
            <div class="bd-sidebar-secondary bd-toc">
              
<div class="toc-item">
  
<div class="tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
</div>
<nav id="bd-toc-nav" class="page-toc">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#anyforce3d-external-forces">
   AnyForce3D: External forces
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#anyforce-internal-forces-sort-of">
   AnyForce: Internal forces (sort of)
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#further-studies">
   Further studies:
  </a>
 </li>
</ul>

</nav>
</div>

            </div>
          
          
        </div>
        <footer class="bd-footer-content">
          <div class="bd-footer-content__inner">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By AnyBody Technology
</p>

  </div>
  
  <div class="footer-item">
    
<p class="copyright">

    &copy; Copyright 2023, AnyBody Technology.<br>

</p>

  </div>
  
  <div class="footer-item">
    <p class="last-updated">
Last updated on None.<br>
</p>
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </div>
        </footer>
        

      </main>
    </div>
  </div>

  
    
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=796348d33e8b1d947c94"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=796348d33e8b1d947c94"></script>

  </body>
</html>